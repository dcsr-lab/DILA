# Dive Into LeetCodeâ€™s Algorithm

<div align="center">
  <img src="https://raw.githubusercontent.com/JackFroster/Images/main/image/Screenshot%202023-11-17%20at%2013.04.48.png" alt="Screenshot 2023-11-17 at 13.04.48" width = "200px" align= "center"/>
</div>


> å¼•è¨€
>
> æ­¤ NoteBook For LeetCode (Version 1) è®°å½•äº†LeetCodeç®—æ³•é¢˜è§£ï¼ŒåŒ…æ‹¬**çº¿æ®µæ ‘ã€æ ‘çŠ¶æ•°ç»„ã€æ•°å­¦ã€å“ˆå¸Œè®¡æ•°ã€æ¨¡æ‹Ÿã€åŒæŒ‡é’ˆã€å­—ç¬¦ä¸²ã€æ‹“æ‰‘æ’åºã€æ’åºã€æŸ¥æ‰¾ã€æ ‘ã€å‰ç¼€å’Œä¸åç¼€å’Œã€åŠ¨æ€è§„åˆ’ï¼ˆçº¿æ€§DP,æ ‘å½¢DP,çŠ¶æ€å‹ç¼©DP,æ•°ä½DP,çŠ¶æ€æœºDPï¼‰ã€æœ€çŸ­è·¯ã€æ•°è®ºã€è´ªå¿ƒã€Tireæ ‘ã€é€’å½’ä¸å›æº¯ã€é“¾è¡¨ã€æšä¸¾ã€è¿›åˆ¶è½¬æ¢ã€å•è°ƒæ ˆã€BFSã€DFSã€å¹¶æŸ¥é›†ã€Topké—®é¢˜ã€æœ€å¤§æœ€å°é—®é¢˜ã€æœ€å°æœ€å¤§é—®é¢˜ã€æ»‘åŠ¨çª—å£ç®—æ³•ã€äºŒåˆ†ã€ç¨€ç–è¡¨ã€Tarjan ç®—æ³•ã€FloodFillã€Kadane's algorithmã€KMPã€æ‰«æçº¿**ç­‰ã€‚
>
> :man:ï¼š`Jackson Dean`	:timer_clock: ï¼š`2022-02-04`  :pencil2:ï¼š`c/c++/java/python`  :gear:ï¼š[`Github`](https://github.com/JackFroster/JF-Notes)  :information_source:: [`LeetCode`](https://leetcode.cn/)  

# ç¬¬äº”éƒ¨åˆ†ä¹‹å•è°ƒæ ˆ



Reference: [ä¸€æ‹›åƒéåŠ›æ‰£å››é“é¢˜ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘è¢«å¥—è·¯å•¦ï½]([ä¸€æ‹›åƒéåŠ›æ‰£å››é“é¢˜ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘è¢«å¥—è·¯å•¦ï½ - ç§»æ‰ K ä½æ•°å­— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/remove-k-digits/solution/yi-zhao-chi-bian-li-kou-si-dao-ti-ma-ma-zai-ye-b-5/)) 

#### 1ã€[402. ç§»æ‰ K ä½æ•°å­—](https://leetcode.cn/problems/remove-k-digits/)ï¼ˆ+è´ªå¿ƒï¼‰

**é—®é¢˜**ï¼š

ç»™ä½ ä¸€ä¸ªä»¥å­—ç¬¦ä¸²è¡¨ç¤ºçš„éè´Ÿæ•´æ•° `num` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œç§»é™¤è¿™ä¸ªæ•°ä¸­çš„ `k` ä½æ•°å­—ï¼Œä½¿å¾—å‰©ä¸‹çš„æ•°å­—æœ€å°ã€‚è¯·ä½ ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›è¿™ä¸ªæœ€å°çš„æ•°å­—ã€‚

ä¾‹å­ï¼š

```
è¾“å…¥ï¼šnum = "1432219", k = 3
è¾“å‡ºï¼š"1219"
è§£é‡Šï¼šç§»é™¤æ‰ä¸‰ä¸ªæ•°å­— 4, 3, å’Œ 2 å½¢æˆä¸€ä¸ªæ–°çš„æœ€å°çš„æ•°å­— 1219 ã€‚

// ç‰¹ä¾‹
// 112
// 1

// 10001
// 4
```

**æ•°æ®èŒƒå›´**ï¼š

- `1 <= k <= num.length <= 105`
- `num` ä»…ç”±è‹¥å¹²ä½æ•°å­—ï¼ˆ0 - 9ï¼‰ç»„æˆ
- é™¤äº† **0** æœ¬èº«ä¹‹å¤–ï¼Œ`num` ä¸å«ä»»ä½•å‰å¯¼é›¶

**æ€è·¯**ï¼š**å•å¢æ ˆ+è´ªå¿ƒ**

å¦‚æœå³å°†å…¥æ ˆçš„å…ƒç´ æ¯”æ ˆé¡¶çš„å…ƒç´ å¤§ï¼Œé‚£ä¹ˆè¯¥å…ƒç´ å…¥æ ˆ; å¦‚æœå…¥æ ˆå…ƒç´ æ¯”æ ˆé¡¶å…ƒç´ å°ï¼Œé‚£ä¹ˆæ›¿æ¢æ ˆé¡¶å…ƒç´ ï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›å¾—åˆ°å°½å¯èƒ½å°çš„æ•°ã€‚é¢˜ç›®è¦æ±‚åˆ é™¤kä¸ªå…ƒç´ , ç­‰ä»·äºä¿ç•™ n - kä¸ªå…ƒç´ ã€‚

- å•å¢æ ˆå­˜å‚¨ä¸‹æ ‡ï¼›
- ä»å·¦å‘å³æ‰«æåºåˆ—, å½“å‰è¦å…¥æ ˆçš„å€¼ä¸ºxï¼š
  - å¦‚æœæ ˆä¸ºç©ºæˆ–è€…xå¤§äºç­‰äºæ ˆé¡¶å…ƒç´ , xå…¥æ ˆï¼›
  - å¦åˆ™ï¼Œæ ˆå®šå…ƒç´ å‡ºæ ˆï¼Œç›´åˆ°æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶å…ƒç´ å°äºxï¼›
- ä¿æŒæ ˆçš„å¤§å° + æ•°ç»„å‰©ä½™ä¸ºè¢«è€ƒè™‘çš„å…ƒç´ ä¸ªæ•° > n - k(è¢«ä¿ç•™çš„å…ƒç´ ä¸ªæ•°)ï¼›
- res = æ ˆå†…å…ƒç´  + æ•°ç»„å‰©ä½™ä¸ºè¢«è€ƒè™‘çš„å…ƒç´ ï¼›
- å¦‚æœres.length > n - k, å–å‰kä¸ªå…ƒç´ ; å¦åˆ™, resï¼›
- å»é™¤å‰å¯¼0ï¼›
- ä¸èƒ½æ‰“ä¹±å­—ç¬¦çš„ç›¸å¯¹é¡ºåºï¼Œè´ªå¿ƒçš„æ€æƒ³æ˜¯å°½å¯èƒ½ä¿è¯ä¸€ä¸ªæ•°é«˜ä½å°½å¯èƒ½åœ°å°ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰é¢å‡ ä½å°½å¯èƒ½åœ°å°ã€‚

```java
class Solution {
    public String removeKdigits(String num, int k) {

        if(num.length() == k) return "0";

        int n = num.length();
        int[] stk = new int[n + 10]; // æ ˆ
        int tt = 0; // ttæ ˆé¡¶è¡¨ç¤ºæ ˆé¡¶æŒ‡é’ˆ, ä¸‹æ ‡0è¡¨ç¤ºæ ˆåº•, æ ˆä»å°æ ‡1å¼€å§‹å­˜å‚¨ 
    
        // string to array
        int nums[] = new int[n];
        for (int i = 0; i < n ; i ++ ) nums[i] = num.charAt(i) - '0'; 

        // å•å¢æ ˆ
        int size = 0, remain = n;
        for(int i = 0; i < n; i ++ ) {
            if( size + remain <= n - k) break; // ä¿è¯è‡³å°‘æœ‰ n - kä¸ªå…ƒç´ 

            while(tt != 0 && nums[stk[tt]] > nums[i] && size + remain > n - k) {
                tt -- ;
                size -- ;
            }

            stk[ ++ tt ] = i;
            size ++ ;
            remain -- ;
        }

        // å‰©ä½™çš„å­—ç¬¦
        StringBuilder builder = new StringBuilder();
        for (int i = 1; i <= tt; i ++ )   builder.append(nums[stk[i]]);
        for (int i = n - remain; i < n; i ++ )  builder.append(nums[i]);

        // å–å‰ n - k ä½
        String res = builder.toString();
        res = res.length() > n - k ? res.substring(0, n - k) : res; 

        // å»é™¤å‰å¯¼é›¶
        while (res.length() != 0 && res.charAt(0) == '0') {
            res = res.substring(1, res.length());
        }

        return res.equals("") ? "0" : res;
    }
}
```

#### 2ã€[316. å»é™¤é‡å¤å­—æ¯](https://leetcode.cn/problems/remove-duplicate-letters/)ï¼ˆ+è´ªå¿ƒï¼‰

**é—®é¢˜**ï¼š

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ å»é™¤å­—ç¬¦ä¸²ä¸­é‡å¤çš„å­—æ¯ï¼Œä½¿å¾—æ¯ä¸ªå­—æ¯åªå‡ºç°ä¸€æ¬¡ã€‚éœ€ä¿è¯ **è¿”å›ç»“æœçš„å­—å…¸åºæœ€å°**ï¼ˆè¦æ±‚ä¸èƒ½æ‰“ä¹±å…¶ä»–å­—ç¬¦çš„ç›¸å¯¹ä½ç½®ï¼‰ã€‚

ä¾‹å­ï¼š

```
è¾“å…¥ï¼šs = "bcabc"
è¾“å‡ºï¼š"abc"

// ç‰¹ä¾‹
// "abacb"
// abc

// "adacd"
// acd
```

**æ•°æ®èŒƒå›´**ï¼š

- `1 <= s.length <= 104`
- `s` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

 **æ€è·¯**ï¼š**å•å¢æ ˆ + è´ªå¿ƒ**

å¦‚æœè¦å»é™¤é‡å¤çš„å­—æ¯ï¼Œé¦–å…ˆæˆ‘ä»¬å¾—çŸ¥é“å“ªäº›å­—æ¯æ˜¯é‡å¤çš„ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªhashmapè®¡æ•°ã€‚å¦‚è¦è¦ä½¿å¾—è¿”å›ç»“æœå­—å…¸åºæœ€å°ï¼Œåœ¨ä¿è¯ç›¸å¯¹é¡ºåºä¸å˜çš„å‰æä¸‹ï¼Œå­—å…¸åºå°çš„å­—æ¯å°½å¯èƒ½åœ°æ’åœ¨å‰é¢ã€‚

hashmapå¯¹å­—æ¯å‡ºç°çš„é¢‘ç‡è®¡æ•°ã€‚

 å•å¢æ ˆï¼š

- å•è°ƒæ ˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä¸é‡å¤ï¼›
- **chåœ¨æ ˆä¸­å·²ç»å‡ºç°è¿‡äº†, chä¸å…¥æ ˆ**, è·³è¿‡ch, è®¡ç®—å™¨-1ï¼›
- æ ˆç©º,å­—ç¬¦chç›´æ¥å…¥æ ˆï¼›
- å­—ç¬¦chçš„å­—å…¸åºæ¯”æ ˆé¡¶å­—ç¬¦çš„å­—å…¸åºå¤§, chåœ¨æ ˆä¸­æ²¡æœ‰å‡ºç°è¿‡, chå…¥æ ˆï¼›
- å­—ç¬¦chçš„å­—å…¸åºæ¯”æ ˆé¡¶å­—ç¬¦çš„å­—å…¸åºå°:
  - å¦‚æœæ ˆé¡¶å­—ç¬¦è®¡æ•°å™¨ä¸ä¸º1, åˆ™æ ˆé¡¶å­—ç¬¦å‡ºæ ˆ, è®¡ç®—å™¨å‡1, chå…¥æ ˆï¼›
  - å¦‚æœæ ˆé¡¶å­—ç¬¦è®¡æ•°å™¨ä¸º1, chå…¥æ ˆï¼›



```java
class Solution {
    public String removeDuplicateLetters(String s) {
        int n = s.length();
        // è®¡æ•°
        HashMap<Character, Integer> map = new HashMap<>();
        for(int i = 0; i < n; i ++ ) {
            char ch = s.charAt(i);
            map.put(ch, map.getOrDefault(ch, 0) + 1);
        }
        
        // åˆ¤é‡æ•°ç»„
        boolean[] st = new boolean[26];

        // æ ˆ
        int[] stk = new int[n + 10];
        int tt = 0;

        // å•å¢æ ˆ
        for(int i = 0; i < n; i ++ ) {
            // chåœ¨æ ˆä¸­å·²ç»å‡ºç°è¿‡äº†, chä¸å…¥æ ˆ, è·³è¿‡ch, è®¡ç®—å™¨-1ã€‚
            // å¦‚æœchæ¯”æ ˆé¡¶å…ƒç´ å°, ä¸”æ ˆé¡¶å…ƒç´ åœ¨chä¹‹åè¿˜å‡ºç°è¿‡
            if(st[s.charAt(i) - 'a']) { // è¿™æ­¥éš¾ç‚¹
                map.put(s.charAt(i), map.get(s.charAt(i)) - 1);
                continue;
            }

            while(tt != 0 && s.charAt(stk[tt]) - s.charAt(i) >= 0) {
                char ch = s.charAt(stk[tt]);
                if(map.get(ch) == 1) break;

                map.put(ch, map.get(ch) - 1);
                tt --;
                st[ch - 'a'] = false;
            }

            stk[++ tt] = i;
            st[s.charAt(i) - 'a'] = true;
        }
        StringBuilder builder = new StringBuilder();
        for (int i = 1; i <= tt; i ++ ) builder.append(s.charAt(stk[i]));

        return builder.toString();
    }
}
```

#### 2ã€[496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I](https://leetcode.cn/problems/next-greater-element-i/)

**é—®é¢˜**

`nums1` ä¸­æ•°å­— `x` çš„ **ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ** æ˜¯æŒ‡ `x` åœ¨ `nums2` ä¸­å¯¹åº”ä½ç½® **å³ä¾§** çš„ **ç¬¬ä¸€ä¸ª** æ¯” `x` å¤§çš„å…ƒç´ ã€‚

ç»™ä½ ä¸¤ä¸ª **æ²¡æœ‰é‡å¤å…ƒç´ ** çš„æ•°ç»„ `nums1` å’Œ `nums2` ï¼Œä¸‹æ ‡ä» **0** å¼€å§‹è®¡æ•°ï¼Œå…¶ä¸­`nums1` æ˜¯ `nums2` çš„å­é›†ã€‚

å¯¹äºæ¯ä¸ª `0 <= i < nums1.length` ï¼Œæ‰¾å‡ºæ»¡è¶³ `nums1[i] == nums2[j]` çš„ä¸‹æ ‡ `j` ï¼Œå¹¶ä¸”åœ¨ `nums2` ç¡®å®š `nums2[j]` çš„ **ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ** ã€‚å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œé‚£ä¹ˆæœ¬æ¬¡æŸ¥è¯¢çš„ç­”æ¡ˆæ˜¯ `-1` ã€‚

è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º `nums1.length` çš„æ•°ç»„ `ans` ä½œä¸ºç­”æ¡ˆï¼Œæ»¡è¶³ `ans[i]` æ˜¯å¦‚ä¸Šæ‰€è¿°çš„ **ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ** ã€‚

ä¾‹å­

```
è¾“å…¥ï¼šnums1 = [4,1,2], nums2 = [1,3,4,2].
è¾“å‡ºï¼š[-1,3,-1]
è§£é‡Šï¼šnums1 ä¸­æ¯ä¸ªå€¼çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å¦‚ä¸‹æ‰€è¿°ï¼š
- 4 ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [1,3,4,2]ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ -1 ã€‚
- 1 ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [1,3,4,2]ã€‚ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯ 3 ã€‚
- 2 ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [1,3,4,2]ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ -1 ã€‚
```

**æ•°æ®èŒƒå›´**

- `1 <= nums1.length <= nums2.length <= 1000`
- `0 <= nums1[i], nums2[i] <= 10^4`
- `nums1`å’Œ`nums2`ä¸­æ‰€æœ‰æ•´æ•° **äº’ä¸ç›¸åŒ**
- `nums1` ä¸­çš„æ‰€æœ‰æ•´æ•°åŒæ ·å‡ºç°åœ¨ `nums2` ä¸­

**æ€è·¯**ï¼šå•è°ƒæ ˆ+å“ˆå¸Œè¡¨

```java
class Solution {
    public int[] nextGreaterElement(int[] nums1, int[] nums2) {
        int n = nums1.length, m = nums2.length;

        Map<Integer, Integer> next = new HashMap<>(); // next.get(x) è¡¨ç¤ºä½ åœ¨nums2ä¸­æœ‰è¾¹ç¬¬ä¸€ä¸ªæ¯”xå¤§çš„æ•°
        int[] stk = new int[m + 10]; // å•å‡æ ˆ
        int tt = 0;
        for(int i = m - 1; i >= 0; i --) {
            while(tt != 0 && stk[tt] <= nums2[i]) tt --; // æ‰€æœ‰å°äºç­‰äºnums2[i]çš„æ•°éƒ½å‡ºæ ˆ
            if(tt != 0) next.put(nums2[i], stk[tt]);
            else  next.put(nums2[i], -1);

            stk[++ tt] = nums2[i];
        }

        int[] res = new int[n];
        for(int i = 0; i < n; i ++)
            res[i] = next.get(nums1[i]);
        return res;
    }
}
```

#### 4ã€[503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II](https://leetcode.cn/problems/next-greater-element-ii/)

**é—®é¢˜**

ç»™å®šä¸€ä¸ªå¾ªç¯æ•°ç»„ `nums` ï¼ˆ `nums[nums.length - 1]` çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯ `nums[0]` ï¼‰ï¼Œè¿”å› *`nums` ä¸­æ¯ä¸ªå…ƒç´ çš„ **ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ *** ã€‚

æ•°å­— `x` çš„ **ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ** æ˜¯æŒ‰æ•°ç»„éå†é¡ºåºï¼Œè¿™ä¸ªæ•°å­—ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”å®ƒæ›´å¤§çš„æ•°ï¼Œè¿™æ„å‘³ç€ä½ åº”è¯¥å¾ªç¯åœ°æœç´¢å®ƒçš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º `-1` ã€‚

ä¾‹å­

```
è¾“å…¥: nums = [1,2,1]
è¾“å‡º: [2,-1,2]
è§£é‡Š: ç¬¬ä¸€ä¸ª 1 çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°æ˜¯ 2ï¼›
æ•°å­— 2 æ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ï¼› 
ç¬¬äºŒä¸ª 1 çš„ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ•°éœ€è¦å¾ªç¯æœç´¢ï¼Œç»“æœä¹Ÿæ˜¯ 2ã€‚
```

**æ•°æ®èŒƒå›´**

- `1 <= nums.length <= 10^4`
- `-10^9 <= nums[i] <= 10^9`

**æ€è·¯**ï¼šå¯¹é—®é¢˜è¿›è¡Œè½¬æ¢, å°†å¾ªç¯æ•°ç»„é—®é¢˜è½¬æ¢æˆ$2$ä¸ª$nums$æ•°ç»„é¡ºåºæ‹¼æ¥ï¼Œå¯¹é¡ºåºæ‹¼æ¥åçš„æ•°ç»„ï¼Œæ‰§è¡Œå•å‡æ ˆã€‚

```java
class Solution {
    public int[] nextGreaterElements(int[] nums) {
        int n = nums.length;
        int[] arr = new int[2 * n];
        int[] res = new int[2 * n];

        for(int i = 0; i < n; i ++) { // å¯¹é—®é¢˜è¿›è¡Œè½¬æ¢, å°†å¾ªç¯æ•°ç»„é—®é¢˜è½¬æ¢æˆ2ä¸ªnumsæ•°ç»„é¡ºåºæ‹¼æ¥
            arr[i] = nums[i];
            arr[i + n] = nums[i];
        }
        // æœ´ç´ å•è°ƒæ ˆ
        int[] stk = new int[2*n + 10]; // å•å‡æ ˆ
        int tt = 0;
        for(int i = 2 * n - 1; i >= 0; i --) {
            while(tt != 0 && stk[tt] <= arr[i]) tt --; // æ‰€æœ‰å°äºç­‰äºnums[i]çš„æ•°éƒ½å‡ºæ ˆ
            if(tt != 0) res[i] = stk[tt];
            else res[i] = -1;

            stk[++ tt] = arr[i];
        }
        return Arrays.copyOfRange(res, 0, n); // åªå–æ•°ç»„çš„å‰nä¸ªå…ƒç´ 
    }
}
```

#### 5ã€[739. æ¯æ—¥æ¸©åº¦](https://leetcode.cn/problems/daily-temperatures/)

**é—®é¢˜**

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `temperatures` ï¼Œè¡¨ç¤ºæ¯å¤©çš„æ¸©åº¦ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ `answer` ï¼Œå…¶ä¸­ `answer[i]` æ˜¯æŒ‡å¯¹äºç¬¬ `i` å¤©ï¼Œä¸‹ä¸€ä¸ªæ›´é«˜æ¸©åº¦å‡ºç°åœ¨å‡ å¤©åã€‚

å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ `0` æ¥ä»£æ›¿ã€‚

ä¾‹å­

```
è¾“å…¥: temperatures = [73,74,75,71,69,72,76,73]
è¾“å‡º: [1,1,4,2,1,1,0,0]
```

**æ•°æ®èŒƒå›´**

- `1 <= temperatures.length <= 10^5`
- `30 <= temperatures[i] <= 100`

**æ€è·¯**ï¼šå•è°ƒæ ˆæ¨¡ç‰ˆé¢˜

```java
class Solution {
    public int[] dailyTemperatures(int[] temperatures) {
        int n = temperatures.length;
        int[] res = new int[n];

        int[] stk = new int[n + 10]; // å•å‡æ ˆï¼Œå­˜å‚¨ä¸‹æ ‡
        int tt = 0;
        for(int i = n - 1; i >= 0; i --) {
            while(tt != 0 && temperatures[stk[tt]] <= temperatures[i]) tt --; // // æ‰€æœ‰å°äºç­‰äºtemperatures[i]çš„æ•°éƒ½å‡ºæ ˆ
            if(tt != 0) res[i] = stk[tt] - i;
            else res[i] = 0;

            stk[++ tt] = i; 
        }

        return res;
    }
}
```

#### 6ã€[2454. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  IV](https://leetcode.cn/problems/next-greater-element-iv/) ï¼ˆåŒå•è°ƒæ ˆï¼‰:star2:

**é—®é¢˜**

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„éè´Ÿæ•´æ•°æ•°ç»„ `nums` ã€‚å¯¹äº `nums` ä¸­æ¯ä¸€ä¸ªæ•´æ•°ï¼Œä½ å¿…é¡»æ‰¾åˆ°å¯¹åº”å…ƒç´ çš„ **ç¬¬äºŒå¤§** æ•´æ•°ã€‚

å¦‚æœ `nums[j]` æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°å®ƒä¸º `nums[i]` çš„ **ç¬¬äºŒå¤§** æ•´æ•°ï¼š

- `j > i`
- `nums[j] > nums[i]`
- æ°å¥½å­˜åœ¨ **ä¸€ä¸ª** `k` æ»¡è¶³ `i < k < j` ä¸” `nums[k] > nums[i]` ã€‚

å¦‚æœä¸å­˜åœ¨ `nums[j]` ï¼Œé‚£ä¹ˆç¬¬äºŒå¤§æ•´æ•°ä¸º `-1` ã€‚

- æ¯”æ–¹è¯´ï¼Œæ•°ç»„ `[1, 2, 4, 3]` ä¸­ï¼Œ`1` çš„ç¬¬äºŒå¤§æ•´æ•°æ˜¯ `4` ï¼Œ`2` çš„ç¬¬äºŒå¤§æ•´æ•°æ˜¯ `3` ï¼Œ`3` å’Œ `4` çš„ç¬¬äºŒå¤§æ•´æ•°æ˜¯ `-1` ã€‚

è¯·ä½ è¿”å›ä¸€ä¸ªæ•´æ•°æ•°ç»„ `answer` ï¼Œå…¶ä¸­ `answer[i]`æ˜¯ `nums[i]` çš„ç¬¬äºŒå¤§æ•´æ•°ã€‚

ä¾‹å­

```java
è¾“å…¥ï¼šnums = [2,4,0,9,6]
è¾“å‡ºï¼š[9,6,6,-1,-1]
è§£é‡Šï¼š
ä¸‹æ ‡ä¸º 0 å¤„ï¼š2 çš„å³è¾¹ï¼Œ4 æ˜¯å¤§äº 2 çš„ç¬¬ä¸€ä¸ªæ•´æ•°ï¼Œ9 æ˜¯ç¬¬äºŒä¸ªå¤§äº 2 çš„æ•´æ•°ã€‚
ä¸‹æ ‡ä¸º 1 å¤„ï¼š4 çš„å³è¾¹ï¼Œ9 æ˜¯å¤§äº 4 çš„ç¬¬ä¸€ä¸ªæ•´æ•°ï¼Œ6 æ˜¯ç¬¬äºŒä¸ªå¤§äº 4 çš„æ•´æ•°ã€‚
ä¸‹æ ‡ä¸º 2 å¤„ï¼š0 çš„å³è¾¹ï¼Œ9 æ˜¯å¤§äº 0 çš„ç¬¬ä¸€ä¸ªæ•´æ•°ï¼Œ6 æ˜¯ç¬¬äºŒä¸ªå¤§äº 0 çš„æ•´æ•°ã€‚
ä¸‹æ ‡ä¸º 3 å¤„ï¼šå³è¾¹ä¸å­˜åœ¨å¤§äº 9 çš„æ•´æ•°ï¼Œæ‰€ä»¥ç¬¬äºŒå¤§æ•´æ•°ä¸º -1 ã€‚
ä¸‹æ ‡ä¸º 4 å¤„ï¼šå³è¾¹ä¸å­˜åœ¨å¤§äº 6 çš„æ•´æ•°ï¼Œæ‰€ä»¥ç¬¬äºŒå¤§æ•´æ•°ä¸º -1 ã€‚
æ‰€ä»¥æˆ‘ä»¬è¿”å› [9,6,6,-1,-1] ã€‚
```

**æ•°æ®èŒƒå›´**

- `1 <= nums.length <= 105`
- `0 <= nums[i] <= 109`

**æ€è·¯**

ä»å·¦å¾€å³éå† $nums$ï¼Œç”¨ï¼ˆé€’å‡ï¼‰å•è°ƒæ ˆ $stk1$ è®°å½•å…ƒç´ ï¼Œå¦‚æœ $x=nums[i]$ æ¯” $stk2$ çš„æ ˆé¡¶å¤§ï¼Œåˆ™ $x$ æ˜¯æ ˆé¡¶çš„ä¸‹ä¸ªæ›´å¤§å…ƒç´ ï¼Œå¼¹å‡ºæ ˆé¡¶å…ƒç´ ã€‚æœ€åæŠŠ $x$ å…¥æ ˆï¼ˆå®é™…å…¥æ ˆçš„æ˜¯ä¸‹æ ‡ $i$ï¼‰ã€‚

æŠŠå¼¹å‡ºçš„å…ƒç´ åŠ åˆ°å¦ä¸€ä¸ªæ ˆ $stk2$ ä¸­ï¼ˆæ³¨æ„ä¿æŒåŸå§‹é¡ºåºï¼‰ï¼Œåç»­å¾ªç¯æ—¶ï¼Œå¦‚æœ $y=nums[j]$ æ¯” $y$ çš„æ ˆé¡¶å¤§ï¼Œåˆ™ $y$ æ˜¯æ ˆé¡¶çš„ä¸‹ä¸‹ä¸ªæ›´å¤§å…ƒç´ ï¼Œè®°å½•ç­”æ¡ˆï¼Œå¼¹å‡ºæ ˆé¡¶ã€‚

```java
class Solution {
    public int[] secondGreaterElement(int[] nums) {
        int n = nums.length;

        int[] res = new int[n];
        Arrays.fill(res, -1); // åˆå§‹åŒ–

        int[] stk1 = new int[n + 10], stk2 = new int[n + 10]; // ä¸¤ä¸ªå•å‡æ ˆ
        int tt1 = 0, tt2 = 0;
        for(int i = 0; i < n; i ++) {
            while(tt2 != 0 && nums[stk2[tt2]] < nums[i])
                res[stk2[tt2 --]] = nums[i]; // nums[i]æ˜¯ç¬¬äºŒå¤§çš„æ•°

            int t = tt1;
            while(tt1 != 0 && nums[stk1[tt1]] < nums[i]) tt1 --; // nums[i]æ˜¯ç¬¬ä¸€å¤§çš„æ•°
            // stk1å¼¹å‡ºæ ˆçš„æ‰€æœ‰æ•°ä¿æŒå…¶åœ¨stk1é¡ºåºä¸å˜ï¼Œè¿›å…¥stk2ä¸­, è¿™æ ·å¯ä»¥ä¿è¯stk2ä¹Ÿä¸€å®šæ˜¯å•å‡æ ˆ
            System.arraycopy(stk1, tt1 + 1, stk2, tt2 + 1, t - tt1);
            tt2 += (t - tt1);
            stk1[++ tt1] = i;
        }

        return res;
    }
}
```

#### 7ã€[2865. ç¾ä¸½å¡” I](https://leetcode.cn/problems/beautiful-towers-i/) ï¼ˆåŒå•è°ƒæ ˆï¼‰:star2:

**é—®é¢˜**

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` ä¸‹æ ‡ä» **0** å¼€å§‹çš„æ•´æ•°æ•°ç»„ `maxHeights` ã€‚

ä½ çš„ä»»åŠ¡æ˜¯åœ¨åæ ‡è½´ä¸Šå»º `n` åº§å¡”ã€‚ç¬¬ `i` åº§å¡”çš„ä¸‹æ ‡ä¸º `i` ï¼Œé«˜åº¦ä¸º `heights[i]` ã€‚

å¦‚æœä»¥ä¸‹æ¡ä»¶æ»¡è¶³ï¼Œæˆ‘ä»¬ç§°è¿™äº›å¡”æ˜¯ **ç¾ä¸½** çš„ï¼š

1. `1 <= heights[i] <= maxHeights[i]`
2. `heights` æ˜¯ä¸€ä¸ª **å±±çŠ¶** æ•°ç»„ã€‚

å¦‚æœå­˜åœ¨ä¸‹æ ‡ `i` æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°æ•°ç»„ `heights` æ˜¯ä¸€ä¸ª **å±±çŠ¶** æ•°ç»„ï¼š

- å¯¹äºæ‰€æœ‰ `0 < j <= i` ï¼Œéƒ½æœ‰ `heights[j - 1] <= heights[j]`
- å¯¹äºæ‰€æœ‰ `i <= k < n - 1` ï¼Œéƒ½æœ‰ `heights[k + 1] <= heights[k]`

è¯·ä½ è¿”å›æ»¡è¶³ **ç¾ä¸½å¡”** è¦æ±‚çš„æ–¹æ¡ˆä¸­ï¼Œ**é«˜åº¦å’Œçš„æœ€å¤§å€¼** ã€‚

ä¾‹å­ï¼š

```
è¾“å…¥ï¼šmaxHeights = [6,5,3,9,2,7]
è¾“å‡ºï¼š22
è§£é‡Šï¼š å’Œæœ€å¤§çš„ç¾ä¸½å¡”æ–¹æ¡ˆä¸º heights = [3,3,3,9,2,2] ï¼Œè¿™æ˜¯ä¸€ä¸ªç¾ä¸½å¡”æ–¹æ¡ˆï¼Œå› ä¸ºï¼š
- 1 <= heights[i] <= maxHeights[i]
- heights æ˜¯ä¸ªå±±çŠ¶æ•°ç»„ï¼Œå³°å€¼åœ¨ i = 3 å¤„ã€‚
22 æ˜¯æ‰€æœ‰ç¾ä¸½å¡”æ–¹æ¡ˆä¸­çš„æœ€å¤§é«˜åº¦å’Œã€‚
```

**æ•°æ®èŒƒå›´**

- `1 <= n == maxHeights <= 10^3`
- `1 <= maxHeights[i] <= 10^9`

**æ€è·¯**

æšä¸¾ã€Œå±±å³°ã€çš„ä¸‹æ ‡ $i$ã€‚æ—¢ç„¶ $i$ æ˜¯æœ€é«˜çš„å¡”ï¼Œä¸ºäº†è®©é«˜åº¦å’Œæœ€å¤§ï¼Œå½“ç„¶è¦å– $heights[i] = maxHeights[i]$ã€‚**æ¥ä¸‹æ¥è€ƒè™‘ã€Œå±±å³°ã€å·¦è¾¹çš„å¡”çš„é«˜åº¦ä»€ä¹ˆæ—¶å€™æ‰èƒ½å†æ»¡è¶³ $heights = maxHeights$**ã€‚

<img src="https://pic.leetcode.cn/1695527738-sTCgMF-graph.png" alt="graph.png" style="zoom:75%;" />

ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œé«˜åº¦å’Œå¡” $i$ ä¸€æ ·çš„å¡”æœ‰ $(iâˆ’j)$ åº§ã€‚ç»´æŠ¤ $left[i]$ è¡¨ç¤ºå½“ $heights[i] = maxHeights[i]$ æ—¶ï¼Œå¡” $0$ åˆ°å¡” $i$ çš„æœ€å¤§é«˜åº¦å’Œã€‚åˆ™é€’æ¨æ–¹ç¨‹ä¸ºï¼š

```java
left[i] = left[j] + heights[i] * (i - j)
```

ã€Œå·¦è¾¹æœ€è¿‘çš„æ›´å°å€¼ã€æ˜¯ä¸€ä¸ªç»å…¸é—®é¢˜ï¼Œå¯ä»¥ç”¨å•è°ƒæ ˆè§£å†³ï¼Œè¯¦è§ [leetcode 496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I](https://leetcode.cn/problems/next-greater-element-i/)ã€‚

å½“ç„¶ï¼Œä¸Šé¢çš„å¼å­åªè€ƒè™‘äº†å¡” $0$ åˆ°å¡” $i$ çš„é«˜åº¦å’Œã€‚ç›¸ä¼¼åœ°ï¼Œå¯ä»¥ç»´æŠ¤ $right[i] $è¡¨ç¤ºå½“ $heights[i] = maxHeights[i]$ æ—¶ï¼Œå¡” $i$ åˆ°å¡” $(nâˆ’1)$ çš„æœ€å¤§é«˜åº¦å’Œã€‚åˆ™ç­”æ¡ˆä¸º $left[i] = left[j] + heights[i] * Math.abs(i - j)$ã€‚

å¤æ‚åº¦ $\mathcal{O}(n)$ã€‚

```java
class Solution {
    public long maximumSumOfHeights(List<Integer> maxHeights) {
        int n = maxHeights.size();
        maxHeights.add(0, -1);
        // å•è°ƒæ ˆ
        int[] stk = new int[n + 10]; // stkå­˜å‚¨æ˜¯ä¸‹æ ‡
        int tt = 0;

        // left[i] è¡¨ç¤ºä»¥iä¸ºå±±å³°æ„é€ å±±çŠ¶æ•°ç»„, iå·¦è¾¹é«˜åº¦å’Œæœ€å¤§å€¼; right[i] è¡¨ç¤ºiå³è¾¹é«˜åº¦å’Œæœ€å¤§å€¼
        long[] left = new long[n + 10], right = new long[n + 10];
        stk[0] = 0; // å“¨å…µ
        // ä»å·¦å‘å³
        for(int i = 1; i <= n; i ++ ) {
            while(tt != 0 && maxHeights.get(stk[tt]) > maxHeights.get(i)) 
                tt --; // æ ˆé¡¶å…ƒç´ å‡ºæ ˆ
            int j = stk[tt];
            left[i] = left[j] + (long)maxHeights.get(i) * (i - j);
            stk[++ tt] = i;
        }

        // ä»å³å‘å·¦
        stk = new int[n + 10];
        tt = 0;
        stk[0] = n + 1; // å“¨å…µ
        for(int i = n; i > 0; i --) {
            while(tt != 0 && maxHeights.get(stk[tt]) > maxHeights.get(i))
                tt --;
            int j = stk[tt];
            right[i] = right[j] + (long)maxHeights.get(i) * Math.abs(i - j);
            stk[++ tt] = i;
        }

        long res = 0;
        for(int i = 1; i <= n; i ++) 
            res = Math.max(res, left[i] + right[i] - maxHeights.get(i));
        return res;
    }
}
```

#### 8ã€[2866. ç¾ä¸½å¡” II](https://leetcode.cn/problems/beautiful-towers-ii/)

**é—®é¢˜**

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` ä¸‹æ ‡ä» **0** å¼€å§‹çš„æ•´æ•°æ•°ç»„ `maxHeights` ã€‚

ä½ çš„ä»»åŠ¡æ˜¯åœ¨åæ ‡è½´ä¸Šå»º `n` åº§å¡”ã€‚ç¬¬ `i` åº§å¡”çš„ä¸‹æ ‡ä¸º `i` ï¼Œé«˜åº¦ä¸º `heights[i]` ã€‚

å¦‚æœä»¥ä¸‹æ¡ä»¶æ»¡è¶³ï¼Œæˆ‘ä»¬ç§°è¿™äº›å¡”æ˜¯ **ç¾ä¸½** çš„ï¼š

1. `1 <= heights[i] <= maxHeights[i]`
2. `heights` æ˜¯ä¸€ä¸ª **å±±çŠ¶** æ•°ç»„ã€‚

å¦‚æœå­˜åœ¨ä¸‹æ ‡ `i` æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°æ•°ç»„ `heights` æ˜¯ä¸€ä¸ª **å±±çŠ¶** æ•°ç»„ï¼š

- å¯¹äºæ‰€æœ‰ `0 < j <= i` ï¼Œéƒ½æœ‰ `heights[j - 1] <= heights[j]`
- å¯¹äºæ‰€æœ‰ `i <= k < n - 1` ï¼Œéƒ½æœ‰ `heights[k + 1] <= heights[k]`

è¯·ä½ è¿”å›æ»¡è¶³ **ç¾ä¸½å¡”** è¦æ±‚çš„æ–¹æ¡ˆä¸­ï¼Œ**é«˜åº¦å’Œçš„æœ€å¤§å€¼** ã€‚

ä¾‹å­ï¼š

```
è¾“å…¥ï¼šmaxHeights = [6,5,3,9,2,7]
è¾“å‡ºï¼š22
è§£é‡Šï¼š å’Œæœ€å¤§çš„ç¾ä¸½å¡”æ–¹æ¡ˆä¸º heights = [3,3,3,9,2,2] ï¼Œè¿™æ˜¯ä¸€ä¸ªç¾ä¸½å¡”æ–¹æ¡ˆï¼Œå› ä¸ºï¼š
- 1 <= heights[i] <= maxHeights[i]
- heights æ˜¯ä¸ªå±±çŠ¶æ•°ç»„ï¼Œå³°å€¼åœ¨ i = 3 å¤„ã€‚
22 æ˜¯æ‰€æœ‰ç¾ä¸½å¡”æ–¹æ¡ˆä¸­çš„æœ€å¤§é«˜åº¦å’Œã€‚
```

**æ•°æ®èŒƒå›´**

- **`1 <= n == maxHeights <= 10^5`**
- `1 <= maxHeights[i] <= 10^9`

**æ€è·¯**

```java
class Solution {
    public long maximumSumOfHeights(List<Integer> maxHeights) {
        int n = maxHeights.size();
        maxHeights.add(0, -1);
        // å•è°ƒæ ˆ
        int[] stk = new int[n + 10]; // stkå­˜å‚¨æ˜¯ä¸‹æ ‡
        int tt = 0;

        // left[i] è¡¨ç¤ºä»¥iä¸ºå±±å³°æ„é€ å±±çŠ¶æ•°ç»„, iå·¦è¾¹é«˜åº¦å’Œæœ€å¤§å€¼; right[i] è¡¨ç¤ºiå³è¾¹é«˜åº¦å’Œæœ€å¤§å€¼
        long[] left = new long[n + 10], right = new long[n + 10];
        stk[0] = 0; // å“¨å…µ
        // ä»å·¦å‘å³
        for(int i = 1; i <= n; i ++ ) {
            while(tt != 0 && maxHeights.get(stk[tt]) > maxHeights.get(i)) 
                tt --; // æ ˆé¡¶å…ƒç´ å‡ºæ ˆ
            int j = stk[tt];
            left[i] = left[j] + (long)maxHeights.get(i) * (i - j);
            stk[++ tt] = i;
        }

        // ä»å³å‘å·¦
        stk = new int[n + 10];
        tt = 0;
        stk[0] = n + 1; // å“¨å…µ
        for(int i = n; i > 0; i --) {
            while(tt != 0 && maxHeights.get(stk[tt]) > maxHeights.get(i))
                tt --;
            int j = stk[tt];
            right[i] = right[j] + (long)maxHeights.get(i) * Math.abs(i - j);
            stk[++ tt] = i;
        }

        long res = 0;
        for(int i = 1; i <= n; i ++) 
            res = Math.max(res, left[i] + right[i] - maxHeights.get(i));
        return res;
    }
}
```



### :mag_right: å‚è€ƒæ–‡çŒ® 

[1] https://leetcode.cn/

[2] https://www.acwing.com/

### :closed_lock_with_key: License

æœ¬æ–‡å†…å®¹ä¸æ˜¯å°†ç½‘ä¸Šçš„èµ„æ–™éšæ„æ‹¼å‡‘è€Œæ¥ï¼Œé™¤äº†å°‘éƒ¨åˆ†å¼•ç”¨ä¹¦ä¸Šå’ŒæŠ€æœ¯æ–‡æ¡£çš„åŸæ–‡ï¼ˆè¿™éƒ¨åˆ†å†…å®¹éƒ½åœ¨æœ«å°¾çš„å‚è€ƒæ–‡çŒ®ä¸­åŠ äº†å‡ºå¤„ï¼‰ï¼Œå…¶ä½™éƒ½æ˜¯ä½œè€…çš„åŸåˆ›ã€‚åœ¨æ‚¨å¼•ç”¨æœ¬æ–‡å†…å®¹æˆ–è€…å¯¹å†…å®¹è¿›è¡Œä¿®æ”¹æ¼”ç»æ—¶ï¼Œè¯·ç½²åå¹¶ä»¥ç›¸åŒæ–¹å¼å…±äº«ï¼Œè°¢è°¢ã€‚

è½¬è½½æ–‡ç« è¯·åœ¨å¼€å¤´æ˜æ˜¾å¤„æ ‡æ˜è¯¥é¡µé¢åœ°å€ï¼Œå…¬ä¼—å·ç­‰å…¶å®ƒè½¬è½½è¯·è”ç³» [1246550576@qq.com](mailto:1246550576@qq.com)

### ğŸ“æ’ç‰ˆç”³æ˜

ç¬”è®°å†…å®¹æŒ‰ç…§ä¸€å®šæ ‡å‡†è¿›è¡Œæ’ç‰ˆï¼Œä»¥ä¿è¯å†…å®¹çš„å¯è¯»æ€§ã€‚

ä¸ä½¿ç”¨ `![]()` è¿™ç§æ–¹å¼æ¥å¼•ç”¨å›¾ç‰‡ï¼Œè€Œæ˜¯ç”¨ `<img>` æ ‡ç­¾ã€‚ä¸ºäº†èƒ½å¤Ÿæ§åˆ¶å›¾ç‰‡ä»¥åˆé€‚çš„å¤§å°æ˜¾ç¤ºï¼Œä½¿ç”¨ `<div align="center"> <img src=""/> </div>` è¾¾åˆ°å±…ä¸­çš„æ•ˆæœã€‚

æ’ç‰ˆç¾åŒ–å·¥å…·ï¼š[Typora-Purple](
