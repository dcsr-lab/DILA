# Dive Into LeetCodeâ€™s Algorithm

<div align="center">
  <img src="https://raw.githubusercontent.com/JackFroster/Images/main/image/Screenshot%202023-11-17%20at%2013.04.48.png" alt="Screenshot 2023-11-17 at 13.04.48" width = "200px" align= "center"/>
</div>


> å¼•è¨€
>
> æ­¤ NoteBook For LeetCode (Version 1) è®°å½•äº†LeetCodeç®—æ³•é¢˜è§£ï¼ŒåŒ…æ‹¬**çº¿æ®µæ ‘ã€æ ‘çŠ¶æ•°ç»„ã€æ•°å­¦ã€å“ˆå¸Œè®¡æ•°ã€æ¨¡æ‹Ÿã€åŒæŒ‡é’ˆã€å­—ç¬¦ä¸²ã€æ‹“æ‰‘æ’åºã€æ’åºã€æŸ¥æ‰¾ã€æ ‘ã€å‰ç¼€å’Œä¸åç¼€å’Œã€åŠ¨æ€è§„åˆ’ï¼ˆçº¿æ€§DP,æ ‘å½¢DP,çŠ¶æ€å‹ç¼©DP,æ•°ä½DP,çŠ¶æ€æœºDPï¼‰ã€æœ€çŸ­è·¯ã€æ•°è®ºã€è´ªå¿ƒã€Tireæ ‘ã€é€’å½’ä¸å›æº¯ã€é“¾è¡¨ã€æšä¸¾ã€è¿›åˆ¶è½¬æ¢ã€å•è°ƒæ ˆã€BFSã€DFSã€å¹¶æŸ¥é›†ã€Topké—®é¢˜ã€æœ€å¤§æœ€å°é—®é¢˜ã€æœ€å°æœ€å¤§é—®é¢˜ã€æ»‘åŠ¨çª—å£ç®—æ³•ã€äºŒåˆ†ã€ç¨€ç–è¡¨ã€Tarjan ç®—æ³•ã€FloodFillã€Kadane's algorithmã€KMPã€æ‰«æçº¿**ç­‰ã€‚
>
> :man:ï¼š`Jackson Dean`	:timer_clock: ï¼š`2022-02-04`  :pencil2:ï¼š`c/c++/java/python`  :gear:ï¼š[`Github`](https://github.com/JackFroster/JF-Notes)  :information_source:: [`LeetCode`](https://leetcode.cn/)  

# ç¬¬ä¸€éƒ¨åˆ†ä¹‹åŒæŒ‡é’ˆ

### 1ã€åŒæŒ‡é’ˆ

#### ï¼ˆ1ï¼‰228. æ±‡æ€»åŒºé—´

**é—®é¢˜**ï¼š

ç»™å®šä¸€ä¸ª  **æ— é‡å¤å…ƒç´ ** çš„ **æœ‰åº** æ•´æ•°æ•°ç»„ `nums` ã€‚

è¿”å› **æ°å¥½è¦†ç›–æ•°ç»„ä¸­æ‰€æœ‰æ•°å­—** çš„ **æœ€å°æœ‰åº** åŒºé—´èŒƒå›´åˆ—è¡¨ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ`nums` çš„æ¯ä¸ªå…ƒç´ éƒ½æ°å¥½è¢«æŸä¸ªåŒºé—´èŒƒå›´æ‰€è¦†ç›–ï¼Œå¹¶ä¸”ä¸å­˜åœ¨å±äºæŸä¸ªèŒƒå›´ä½†ä¸å±äº `nums` çš„æ•°å­— `x` ã€‚

åˆ—è¡¨ä¸­çš„æ¯ä¸ªåŒºé—´èŒƒå›´ `[a,b]` åº”è¯¥æŒ‰å¦‚ä¸‹æ ¼å¼è¾“å‡ºï¼š

- `"a->b"` ï¼Œå¦‚æœ `a != b`
- `"a"` ï¼Œå¦‚æœ `a == b`

**ç¤ºä¾‹**ï¼š

```python
è¾“å…¥ï¼šnums = [0,1,2,4,5,7]
è¾“å‡ºï¼š["0->2","4->5","7"]
```

**æ€è·¯**ï¼š**åŒæŒ‡é’ˆ**

- è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆ`i`, `j`ï¼Œ`[i,j)`æ˜¯è¦æ‰¾çš„è¿ç»­åŒºé—´

```python
class Solution:
    def summaryRanges(self, nums: List[int]) -> List[str]:
        n, res = len(nums), []

        i = 0 #  [i, j)è¡¨ç¤ºè¿ç»­åŒºé—´, iæŒ‡å‘è¿ç»­åŒºé—´çš„å¼€å§‹
        while i < n:
            j = i + 1 # jæŒ‡é’ˆæŒ‡å‘è¿ç»­åŒºé—´çš„ç»“æŸçš„ä¸‹ä¸€ä¸ªä½ç½®
            while j < n and nums[j] - nums[i] == j - i: # jå³ç§»
                j += 1
            # æ‰¾åˆ°ä¸€ä¸ªè¿ç»­åŒºé—´
            st, ed = nums[i], nums[j - 1]
            res.append(str(st) if st == ed else "%d->%d" % (st, ed))
            i = j # æ›´æ–°i
        return res
```

#### ï¼ˆ2ï¼‰163. ç¼ºå¤±çš„åŒºé—´

**é—®é¢˜**ï¼š

ç»™å®šä¸€ä¸ªæ’åºçš„æ•´æ•°æ•°ç»„ **nums** ï¼Œå…¶ä¸­å…ƒç´ çš„èŒƒå›´åœ¨ **é—­åŒºé—´** **[lower, upper]** å½“ä¸­ï¼Œè¿”å›ä¸åŒ…å«åœ¨æ•°ç»„ä¸­çš„ç¼ºå¤±åŒºé—´ã€‚

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥: nums = [0, 1, 3, 50, 75], lower = 0 å’Œ upper = 99,
è¾“å‡º: ["2", "4->49", "51->74", "76->99"]
```

**æ€è·¯**ï¼š**åŒæŒ‡é’ˆ**

```python
class Solution:
    def findMissingRanges(self, nums: List[int], lower: int, upper: int) -> List[str]:
        nums = [lower - 1] + nums + [upper + 1] # åŠ å…¥å·¦å³è¾¹ç•Œ
        n, res = len(nums), []

        i = 0 # (i, j) è¡¨ç¤ºç¼ºå¤±åŒºé—´
        while i < n:
            j = i + 1
            while j < n and (nums[j] == nums[i] + 1 or nums[j] == nums[i]): # åŒæ­¥å³ç§» i, j
                i, j = i + 1, j + 1
            
            if j < n: # æ‰¾åˆ°ä¸€ä¸ªç¼ºå¤±åŒºé—´
                st, ed = nums[i] + 1, nums[j] - 1
                res.append(str(st) if st == ed else "%d->%d" % (st, ed))
            i = j # æ›´æ–° i
        return res
```

#### ï¼ˆ3ï¼‰189. è½®è½¬æ•°ç»„:writing_hand:  

**é—®é¢˜**ï¼š

ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³è½®è½¬ `k` ä¸ªä½ç½®ï¼Œå…¶ä¸­ `k` æ˜¯éè´Ÿæ•°ã€‚

**ç¤ºä¾‹**ï¼š

```
è¾“å…¥: nums = [1,2,3,4,5,6,7], k = 3
è¾“å‡º: [5,6,7,1,2,3,4]
```

**æ€è·¯**ï¼š**ä¸‰æ¬¡åè½¬æ•°ç»„**

- ä½¿ç”¨**åŒæŒ‡é’ˆ**å®ç°æ•°ç»„åè½¬

- 

- ç¬¬ä¸€æ¬¡åè½¬æ•°ç»„ `[0, n -1]`
- ç¬¬äºŒæ¬¡åè½¬æ•°ç»„ `[0, k - 1]`
- ç¬¬ä¸‰æ¬¡åè½¬æ•°ç»„ `[k, n - 1]`

```java
class Solution {

    public void reverse(int[] a, int l, int r){ // åè½¬æ•°ç»„ä¸­[l, r]çš„æ‰€æœ‰æ•°
        for(int i = l, j = r; i < j; i ++, j --) { // é‡‡ç”¨åŒæŒ‡é’ˆåè½¬
            int t = a[i];
            a[i] = a[j];
            a[j] = t;
        }
    }

    public void rotate(int[] nums, int k) {
        int n = nums.length;
        k = k % n; // ç»†èŠ‚
        reverse(nums, 0, n - 1);
        reverse(nums, 0, k - 1); reverse(nums, k, n - 1);
    }
}
```

#### ï¼ˆ4ï¼‰[1. ä¸¤æ•°ä¹‹å’Œ](https://leetcode.cn/problems/two-sum/)ï¼ˆåŒæŒ‡é’ˆ/å“ˆå¸Œè¡¨ï¼‰

**é—®é¢˜**ï¼š

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ `target`ï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º **å’Œä¸ºç›®æ ‡å€¼** *`target`* çš„é‚£ **ä¸¤ä¸ª** æ•´æ•°ï¼Œå¹¶**è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡**ã€‚

ä½ å¯ä»¥å‡è®¾**æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆ**ã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚

ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚

ä¾‹å­ï¼š

```
è¾“å…¥ï¼šnums = [2,7,11,15], target = 9
è¾“å‡ºï¼š[0,1]
è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚
```

**æ•°æ®èŒƒå›´**ï¼š

- `2 <= nums.length <= 104`
- `-109 <= nums[i] <= 109`
- `-109 <= target <= 109`
- **åªä¼šå­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ**

**æ€è·¯**ï¼š

åŒæŒ‡é’ˆæ³•ï¼š$O(nlogn)$

- æ„å»ºå“ˆå¸Œè¡¨ï¼Œé”®ä½$nums[i]$ï¼Œå€¼ä¸ºæ•°ç»„ä¸‹æ ‡$i$;
- å¯¹æ•°ç»„$num$ä»å°åˆ°å¤§æ’åºï¼›
- è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡é’ˆ$i$æŒ‡å‘æ•°ç»„çš„å·¦ç«¯ç‚¹ï¼Œå¦ä¸€ä¸ªæŒ‡é’ˆ$j$æŒ‡å‘æ•°ç»„çš„å³ç«¯ç‚¹ã€‚æŒ‡é’ˆç§»åŠ¨çš„è§„åˆ™ä¸º:
  - å¦‚æœ$nums[i] + nums[j] < target$ ï¼Œåˆ™ $i ++ $ï¼›
  - å¦‚æœ$nums[i] + nums[j] > target$ï¼Œåˆ™ $j ++$;
  - å¦‚æœ$nums[i] + nums[j] == target$ï¼Œè¿­ä»£åœæ­¢ï¼Œæ‰¾åˆ°äº†ä¸¤ä¸ªæ•´æ•°ã€‚ä¾æ®ä¹‹å‰æ„å»ºçš„å“ˆå¸Œè¡¨ï¼Œæ‰¾åˆ°å…¶å€¼å¯¹åº”çš„ä¸‹æ ‡

```java
public int[] twoSum(int[] nums, int target) {
    HashMap<Integer, Queue<Integer>> mp = new HashMap<>(); // æ„å»ºæ˜ å°„è¡¨, å­˜å‚¨æ¯ä¸ªæ•°å­˜ç°çš„ä¸‹æ ‡ä½ç½®

    for(int i = 0; i < nums.length; i ++) {
        if(mp.containsKey(nums[i])) mp.get(nums[i]).offer(i);
        else {
            Queue<Integer> q = new ArrayDeque<>();
            q.offer(i);
            mp.put(nums[i], q);
        }
    }

    Arrays.sort(nums); // æ‰€æœ‰æ•°ä»å°åˆ°å¤§æ’åº

    for(int i = 0, j = nums.length - 1; i < j;){ // åŒæŒ‡é’ˆç®—æ³•
        if(nums[i] + nums[j] == target){
            int[] res = {mp.get(nums[i]).poll(), mp.get(nums[j]).poll()};
            return res;
        }

        if(nums[i] + nums[j] < target) i ++;
        else if(nums[i] + nums[j] > target) j --;
    }
    return new int[0];
}
```

å“ˆå¸Œè¡¨æ³•ï¼š$O(n)$

```java
public int[] twoSum(int[] nums, int target) {
    HashMap<Integer,Integer> map = new HashMap<>();
    for(int i = 0; i < nums.length; i++){
        if(map.containsKey(nums[i])){
            return new int[]{map.get(nums[i]), i};
        }
        map.put(target - nums[i], i);
    }
    return null;
}
```

#### ï¼ˆ5ï¼‰[653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥äºŒå‰æœç´¢æ ‘](https://leetcode.cn/problems/two-sum-iv-input-is-a-bst/)ï¼ˆåŒæŒ‡é’ˆï¼‰

**é—®é¢˜**ï¼š

ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ `root` å’Œä¸€ä¸ªç›®æ ‡ç»“æœ `k`ï¼Œå¦‚æœäºŒå‰æœç´¢æ ‘ä¸­å­˜åœ¨ä¸¤ä¸ªå…ƒç´ ä¸”å®ƒä»¬çš„å’Œç­‰äºç»™å®šçš„ç›®æ ‡ç»“æœï¼Œåˆ™è¿”å› `true`ã€‚

ä¾‹å­ï¼š

<img src="https://assets.leetcode.com/uploads/2020/09/21/sum_tree_1.jpg" alt="img" style="zoom:67%;" />

```
è¾“å…¥: root = [5,3,6,2,4,null,7], k = 9
è¾“å‡º: true
```

**æ•°æ®èŒƒå›´**ï¼š

- äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ `[1, 10^4]`.
- `-10^4 <= Node.val <= 10^4`
- é¢˜ç›®æ•°æ®ä¿è¯ï¼Œè¾“å…¥çš„ `root` æ˜¯ä¸€æ£µ **æœ‰æ•ˆ** çš„äºŒå‰æœç´¢æ ‘
- `-10^5 <= k <= 10^5`

**æ€è·¯**ï¼š$O(n)$

- äºŒå‰æœç´¢æ ‘çš„**ä¸­åºéå†**çš„ç»“ç‚¹åºåˆ—æ˜¯ä¸€ä¸ªæœ‰åºåºåˆ—;
- è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡é’ˆ$i$æŒ‡å‘æ•°ç»„çš„å·¦ç«¯ç‚¹ï¼Œå¦ä¸€ä¸ªæŒ‡é’ˆ$j$æŒ‡å‘æ•°ç»„çš„å³ç«¯ç‚¹ã€‚æŒ‡é’ˆç§»åŠ¨çš„è§„åˆ™ä¸º:
  - å¦‚æœ$nums[i] + nums[j] < target$ ï¼Œåˆ™ $i ++ $ï¼›
  - å¦‚æœ$nums[i] + nums[j] > target$ï¼Œåˆ™ $j ++$;
  - å¦‚æœ$nums[i] + nums[j] == target$ï¼Œè¿­ä»£åœæ­¢ï¼Œæ‰¾åˆ°äº†ä¸¤ä¸ªæ•´æ•°

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    List<Integer> inorder = new ArrayList<>();

    public void dfs(TreeNode u) {

        if(u.left != null) dfs(u.left);
        inorder.add(u.val);
        if(u.right != null) dfs(u.right);
    }

    public boolean findTarget(TreeNode root, int k) {
        if(root == null) return false;
        dfs(root);

        for(int i = 0, j = inorder.size() - 1; i < j;) {
            int a = inorder.get(i), b = inorder.get(j);
            if(a + b < k) i ++ ;
            else if(a + b > k) j --;
            else return true;
        }
        return false;
    }
}
```

#### ï¼ˆ6ï¼‰[167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„](https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/)ï¼ˆåŒæŒ‡é’ˆï¼‰

**é—®é¢˜**ï¼š

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **1** å¼€å§‹çš„æ•´æ•°æ•°ç»„ `numbers` ï¼Œè¯¥æ•°ç»„å·²æŒ‰ **éé€’å‡é¡ºåºæ’åˆ—** ï¼Œè¯·ä½ ä»æ•°ç»„ä¸­æ‰¾å‡ºæ»¡è¶³ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•° `target` çš„ä¸¤ä¸ªæ•°ã€‚ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **1** å¼€å§‹çš„æ•´æ•°æ•°ç»„ `numbers` ï¼Œè¯¥æ•°ç»„å·²æŒ‰ **éé€’å‡é¡ºåºæ’åˆ—** ï¼Œè¯·ä½ ä»æ•°ç»„ä¸­æ‰¾å‡ºæ»¡è¶³ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•° `target` çš„ä¸¤ä¸ªæ•°ã€‚

ä»¥é•¿åº¦ä¸º 2 çš„æ•´æ•°æ•°ç»„ `[index1, index2]` çš„å½¢å¼è¿”å›è¿™ä¸¤ä¸ªæ•´æ•°çš„ä¸‹æ ‡ `index1` å’Œ `index2`ã€‚

ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥ **åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆ** ï¼Œè€Œä¸”ä½  **ä¸å¯ä»¥** é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚

ä½ æ‰€è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡»**åªä½¿ç”¨å¸¸é‡çº§çš„é¢å¤–ç©ºé—´**ã€‚

ä¾‹å­ï¼š

```
è¾“å…¥ï¼šnumbers = [2,7,11,15], target = 9
è¾“å‡ºï¼š[1,2]
è§£é‡Šï¼š2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚è¿”å› [1, 2] ã€‚
```

**æ•°æ®èŒƒå›´**ï¼š

- `2 <= numbers.length <= 3 * 10^4`
- `-1000 <= numbers[i] <= 1000`
- `numbers` æŒ‰ **éé€’å‡é¡ºåº** æ’åˆ—
- `-1000 <= target <= 1000`
- **ä»…å­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ**

**æ€è·¯**ï¼š$O(n)$

è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡é’ˆ$i$æŒ‡å‘æ•°ç»„çš„å·¦ç«¯ç‚¹ï¼Œå¦ä¸€ä¸ªæŒ‡é’ˆ$j$æŒ‡å‘æ•°ç»„çš„å³ç«¯ç‚¹ã€‚æŒ‡é’ˆç§»åŠ¨çš„è§„åˆ™ä¸º:

- å¦‚æœ$nums[i] + nums[j] < target$ ï¼Œåˆ™ $i ++ $ï¼›
- å¦‚æœ$nums[i] + nums[j] > target$ï¼Œåˆ™ $j ++$;
- å¦‚æœ$nums[i] + nums[j] == target$ï¼Œè¿­ä»£åœæ­¢ï¼Œæ‰¾åˆ°äº†ä¸¤ä¸ªæ•´æ•°

```java
class Solution {
    public int[] twoSum(int[] numbers, int target) {
        for(int i = 0, j = numbers.length - 1; i < j; ) {
            if(numbers[i] + numbers[j] == target)
                return new int[]{i + 1 ,j + 1};
            else if(numbers[i] + numbers[j] > target) j --;
            else i ++ ;
        }
        return new int[0];
    }
}
```

#### ï¼ˆ7ï¼‰[15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode.cn/problems/3sum/)ï¼ˆåŒæŒ‡é’ˆï¼‰

**é—®é¢˜**ï¼š

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ `[nums[i], nums[j], nums[k]]` æ»¡è¶³ `i != j`ã€`i != k` ä¸”`j != k` ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ `nums[i] + nums[j] + nums[k] == 0` ã€‚è¯·

ä½ è¿”å›æ‰€æœ‰å’Œä¸º `0` ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚

**æ³¨æ„ï¼š**ç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

ä¾‹å­ï¼š

```
è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
è§£é‡Šï¼š
nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0 ã€‚
nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0 ã€‚
nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0 ã€‚
ä¸åŒçš„ä¸‰å…ƒç»„æ˜¯ [-1,0,1] å’Œ [-1,-1,2] ã€‚
æ³¨æ„ï¼Œè¾“å‡ºçš„é¡ºåºå’Œä¸‰å…ƒç»„çš„é¡ºåºå¹¶ä¸é‡è¦ã€‚
```

**æ•°æ®èŒƒå›´**ï¼š

- `3 <= nums.length <= 3000`
- `-10^5 <= nums[i] <= 10^5`

**æ€è·¯**ï¼š

åŒæŒ‡é’ˆæ³•ï¼š$O((1+n)n/2))$

- å°†$nums$æ•°ç»„ä»å°åˆ°å¤§æ’åºï¼Œ$nums$æ•°ç»„ä¸­å¯èƒ½å­˜åœ¨é‡å¤å…ƒç´ ï¼Œæ’åºçš„å¥½å¤„æ˜¯å¯ä»¥ä½¿å¾—é‡å¤çš„å…ƒç´ èšé›†åœ¨ä¸€èµ·ï¼Œæ–¹ä¾¿å»é‡ã€‚
- å°†$nums[i],i=0,...,nums.length-1$è§†ä¸º$target$ï¼Œä»$i + 1, ...,nums,length-1$ä¸­å¯»æ‰¾ä¸¤æ•°ä¹‹å’Œç­‰äº$target$ã€‚å¯èƒ½å­˜åœ¨å¤šå¯¹æ•°ä¹‹å’Œç­‰äº$target$

```java
for(int l = i + 1, r = n - 1; l < r; ) { // l ä»i + 1å¼€å§‹ï¼Œå› ä¸ºä¹‹å‰çš„æƒ…å†µå·²ç»è¢«è®¨è®ºè¿‡äº†
    int sum = nums[l] + nums[r] + nums[i];
    if(sum == 0) {
        list.add(Arrays.asList(new Integer[]{ nums[i], nums[l], nums[r]}));
    
        while(l + 1 < r && nums[l] == nums[l + 1]) l ++ ; // å»é™¤é‡å¤çš„å…ƒç´ 
        while(l < r - 1 && nums[r] == nums[r - 1]) r --; // å»é‡é‡å¤çš„å…ƒç´ 
        l ++ ; r -- ; // åŒæ—¶æ›´æ–°l, r
    }
    else if(sum > 0) r -- ;
    else l ++ ;
}
```

- å¯¹äº$nums$ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ‰§è¡Œä¸Šè¿°ç¬¬äºŒæ­¥çš„ç®—æ³•æµç¨‹ã€‚

å®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼š

```java
public List<List<Integer>> threeSum(int[] nums) {
    List<List<Integer>> list = new ArrayList<>();
    int n = nums.length;

    Arrays.sort(nums); // ä»å°åˆ°å¤§æ’åº
    for(int i = 0; i < n - 2; i ++ ) {
        if(i > 0 && nums[i] == nums[i - 1]) continue; // å»é‡, nums[i]å·²ç»å¤„ç†è¿‡äº†
        if(nums[i] > 0) break; // å› ä¸ºnumsç»è¿‡ä»å°åˆ°å¤§æ’åº, i ä¹‹åçš„å…ƒç´ éƒ½å¤§äº0, ä¸å¯èƒ½å­˜åœ¨æœ‰ä¸‰ä¸ªæ•°ä¹‹å’Œç­‰äº0çš„æƒ…å†µ

        for(int l = i + 1, r = n - 1; l < r; ) { // l ä»i + 1å¼€å§‹ï¼Œå› ä¸ºä¹‹å‰çš„æƒ…å†µå·²ç»è¢«è®¨è®ºè¿‡äº†
            int sum = nums[l] + nums[r] + nums[i];
            if(sum == 0) {
                list.add(Arrays.asList(new Integer[]{ nums[i], nums[l], nums[r]}));
            
                while(l + 1 < r && nums[l] == nums[l + 1]) l ++ ; // å»é™¤é‡å¤çš„å…ƒç´ 
                while(l < r - 1 && nums[r] == nums[r - 1]) r --; // å»é‡é‡å¤çš„å…ƒç´ 
                l ++ ; r -- ; // åŒæ—¶æ›´æ–°l, r
            }
            else if(sum > 0) r -- ;
            else l ++ ;
        }
    }
    return list;
}
```

å“ˆå¸Œè¡¨æ³•ï¼š$O(n^2)$ï¼Œå°†ä¸‰æ•°ä¹‹åè½¬æ¢æˆä¸¤æ•°ä¹‹å’Œ

- å¯¹äºä»»æ„ä¸€ä¸ªæ•° $nums[k],k=0,...,nums.length-1$ï¼Œå¦‚æœå­˜åœ¨å¦å¤–ä¸¤ä¸ªæ•° $nums[i]$å’Œ$nums[j]$ï¼Œä½¿å¾—$nums[i] + nums[j] + nums[k] == 0$æˆç«‹ã€‚
- é‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°ä¸¤ä¸ªæ•° $nums[i]$å’Œ$nums[j]$ï¼Œä½¿å¾—ä»–ä»¬ä¹‹å’Œç­‰äº $-nums[k]$ã€‚è¿™å°±æ˜¯ä¸¤æ•°ä¹‹å’Œé—®é¢˜ã€‚
- éå†æ‰€æœ‰çš„ $k=0,1,...,nums.length-1$ï¼Œå°†ä½¿$nums[i] + nums[j] + nums[k] == 0$æˆç«‹çš„é›†åˆ$[nums[i],nums[j],nums[k]]$æ”¶é›†åˆ°é›†åˆ`List`ä¸­å¹¶å»é‡ã€‚
- é‡‡ç”¨`HashSet`å»é‡ï¼Œ`HashSet<List<Integer>> res = new HashSet<List<Integer>>()`ã€‚

```java
class Solution {
    HashSet<List<Integer>> res = new HashSet<List<Integer>>();
  
    // ä¸¤æ•°ä¹‹å’ŒO(n):ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œåœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ target çš„é‚£ä¸¤ä¸ªæ•´æ•°
    public void search(int[] nums, int index, int target) { 
        HashMap<Integer, Integer> map = new HashMap<>();

        for(int i = 0; i < nums.length; i ++ ) {
            if(i == index) continue;
            if(map.containsKey(nums[i])) {
                Integer[] arr = new Integer[]{nums[i], nums[map.get(nums[i])], -target};
                Arrays.sort(arr);
                res.add(Arrays.asList(arr));
            } else map.put(target - nums[i], i);
        }
    }

    public List<List<Integer>> threeSum(int[] nums) {
        HashMap<Integer, Boolean> map = new HashMap<>(); // å»é‡
        for(int i = 0; i < nums.length; i ++ )
            if(!map.getOrDefault(nums[i], false)) { // åˆ¤æ–­æ˜¯å¦é‡å¤å¤„ç†è¿‡
                search(nums, i, -nums[i]);
                map.put(nums[i], true);
            }
        return new ArrayList<>(res);
    }
}
```

#### ï¼ˆ8ï¼‰[18. å››æ•°ä¹‹å’Œ](https://leetcode.cn/problems/4sum/)ï¼ˆåŒæŒ‡é’ˆï¼‰

**é—®é¢˜**ï¼š

ç»™ä½ ä¸€ä¸ªç”± `n` ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ `nums` ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ `target` ã€‚

è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ»¡è¶³ä¸‹è¿°å…¨éƒ¨æ¡ä»¶ä¸”**ä¸é‡å¤**çš„å››å…ƒç»„ `[nums[a], nums[b], nums[c], nums[d]]` è‹¥ä¸¤ä¸ªå››å…ƒç»„å…ƒç´ ä¸€ä¸€å¯¹åº”ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªå››å…ƒç»„é‡å¤ï¼‰ï¼š

- `0 <= a, b, c, d < n`
- `a`ã€`b`ã€`c` å’Œ `d` **äº’ä¸ç›¸åŒ**
- `nums[a] + nums[b] + nums[c] + nums[d] == target`

ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆ ã€‚

**ä¾‹å­**ï¼š

```
è¾“å…¥ï¼šnums = [1,0,-1,0,-2,2], target = 0
è¾“å‡ºï¼š[[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]
```

**æ•°æ®èŒƒå›´**ï¼š

- `1 <= nums.length <= 200`
- `-10^9 <= nums[i] <= 10^9`
- `-10^9 <= target <= 10^9`

æ€è·¯ï¼š

åŒæŒ‡é’ˆæ³•ï¼š$O(n^3)$

```javascript
public List<List<Integer>> fourSum(int[] nums, int target) {
    List<List<Integer>> res = new ArrayList<>();
    int n = nums.length;

    Arrays.sort(nums);

    for(int i = 0; i < n - 3; i ++ ) {
        if(i > 0 && nums[i] == nums[i - 1]) continue;
        if(nums[i] > target / 4) break;

        for(int j = i + 1; j < n - 2; j ++ ) {
            if(j > i + 1 && nums[j] == nums[j - 1]) continue;
            if(nums[i] > ((long)target - nums[i]) / 3) break;

            for(int l = j + 1, r = n - 1; l < r;) {
                long sum = nums[i] + nums[j] + nums[l] + nums[r];
                if(sum == target) {
                    res.add(Arrays.asList(new Integer[]{nums[i], nums[j], nums[l], nums[r]}));
                    while(l + 1 < r && nums[l] == nums[l + 1]) l ++ ;
                    while(l < r - 1 && nums[r] == nums[r - 1]) r --;
                    l ++ ; r -- ;
                } else if(sum > target) r --;
                else l ++ ;
            }
        }
    }

    return res;
}
```

å“ˆå¸Œè¡¨æ³•ï¼š

```java
class Solution {
    HashSet<List<Integer>> res = new HashSet<List<Integer>>();

    // ä¸¤æ•°ä¹‹å’ŒO(n):ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œåœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ target çš„é‚£ä¸¤ä¸ªæ•´æ•°
    public void twoSum(int[] nums, int index1, int index2, long target) { 
        HashMap<Long, Integer> map = new HashMap<>();

        for(int i = 0; i < nums.length; i ++ ) {
            if(i == index1 || i == index2) continue;
            if(map.containsKey((long)nums[i])) {
                Integer[] arr = new Integer[]{nums[i], nums[map.get((long)nums[i])], nums[index1], nums[index2]};
                Arrays.sort(arr);
                res.add(Arrays.asList(arr));
            } else map.put(target - nums[i], i);
        }
    }

    public void threeSum(int[] nums, int index, long target ) {
        HashMap<Integer, Boolean> map = new HashMap<>(); // å»é‡
        for(int i = 0; i < nums.length; i ++ ) {
            if(i == index) continue;
            if(!map.getOrDefault(nums[i], false)) { // åˆ¤æ–­æ˜¯å¦é‡å¤å¤„ç†è¿‡
                twoSum(nums, i, index, target - nums[i]);
                map.put(nums[i], true);
            }
        }
    }

    public List<List<Integer>> fourSum(int[] nums, int target) {
        HashMap<Integer, Boolean> map = new HashMap<>(); // å»é‡
        for(int i = 0; i < nums.length; i ++ )
            if(!map.getOrDefault(nums[i], false)) { // åˆ¤æ–­æ˜¯å¦é‡å¤å¤„ç†è¿‡
                threeSum(nums, i, (long)target - nums[i]);
                map.put(nums[i], true);
            }
        return new ArrayList<>(res);
    }
}
```



#### ï¼ˆ9ï¼‰[454. å››æ•°ç›¸åŠ  II](https://leetcode.cn/problems/4sum-ii/)ï¼ˆå“ˆå¸Œè¡¨ï¼‰

**é—®é¢˜**ï¼š

ç»™ä½ å››ä¸ªæ•´æ•°æ•°ç»„ `nums1`ã€`nums2`ã€`nums3` å’Œ `nums4` ï¼Œæ•°ç»„é•¿åº¦éƒ½æ˜¯ `n` ï¼Œè¯·ä½ è®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç»„ `(i, j, k, l)` èƒ½æ»¡è¶³ï¼š

- `0 <= i, j, k, l < n`
- `nums1[i] + nums2[j] + nums3[k] + nums4[l] == 0`

ä¾‹å­ï¼š

```
è¾“å…¥ï¼šnums1 = [1,2], nums2 = [-2,-1], nums3 = [-1,2], nums4 = [0,2]
è¾“å‡ºï¼š2
è§£é‡Šï¼š
ä¸¤ä¸ªå…ƒç»„å¦‚ä¸‹ï¼š
1. (0, 0, 0, 1) -> nums1[0] + nums2[0] + nums3[0] + nums4[1] = 1 + (-2) + (-1) + 2 = 0
2. (1, 1, 0, 0) -> nums1[1] + nums2[1] + nums3[0] + nums4[0] = 2 + (-1) + (-1) + 0 = 0
```

 **æ•°æ®èŒƒå›´**ï¼š

- `n == nums1.length`
- `n == nums2.length`
- `n == nums3.length`
- `n == nums4.length`
- `1 <= n <= 200`
- `-228 <= nums1[i], nums2[i], nums3[i], nums4[i] <= 228`

**æ€è·¯**ï¼šå“ˆå¸Œè¡¨è®¡æ•° $O(n^2)$

- ä¸Šæ¥å°±æ˜¯4é‡å¾ªç¯ï¼Œ$O(n^4)$ï¼Œå¤æ‚åº¦å¤ªé«˜äº†
- ç”¨ map ç¼“å­˜ä¸¤ä¸ªæ•°ç»„çš„å’Œ$O(n^2)$ï¼Œä¸¤é‡å¾ªç¯
- æœ€åè¦è®¡ç®—å…ƒç»„ä¸ªæ•°ï¼Œmap çš„ key ä¸ºä¸¤ä¸ªæ•°ç»„çš„å’Œï¼Œval ä¸ºå’Œå‡ºç°çš„æ¬¡æ•°

```java
class Solution {
    public int fourSumCount(int[] nums1, int[] nums2, int[] nums3, int[] nums4) {
        Arrays.sort(nums1); Arrays.sort(nums2);
        Arrays.sort(nums3); Arrays.sort(nums4);
        
        Map<Integer, Integer> map = new HashMap<>();

        for(int i = 0; i < nums1.length; i ++ ) {
            for(int j = 0; j < nums2.length; j ++ ) {
                int k = -(nums1[i] + nums2[j]);
                map.put(k, map.getOrDefault(k, 0) + 1);
            }
        }

        int res = 0;
        for(int i = 0; i < nums3.length; i ++ )
            for(int j = 0; j < nums4.length; j ++ ) {
                int k = (nums3[i] + nums4[j]);
                res += map.getOrDefault(k, 0);
            }
                
        return res;
    }
}
```



#### ï¼ˆ10ï¼‰[16. æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ](https://leetcode.cn/problems/3sum-closest/)ï¼ˆæ’åº+åŒæŒ‡é’ˆï¼‰

**é—®é¢˜**ï¼š

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` å’Œ ä¸€ä¸ªç›®æ ‡å€¼ `target`ã€‚è¯·ä½ ä» `nums` ä¸­é€‰å‡ºä¸‰ä¸ªæ•´æ•°ï¼Œä½¿å®ƒä»¬çš„å’Œä¸ `target` æœ€æ¥è¿‘ã€‚

è¿”å›è¿™ä¸‰ä¸ªæ•°çš„å’Œã€‚

å‡å®šæ¯ç»„è¾“å…¥åªå­˜åœ¨æ°å¥½ä¸€ä¸ªè§£ã€‚

ä¾‹å­ï¼š

```
è¾“å…¥ï¼šnums = [-1,2,1,-4], target = 1
è¾“å‡ºï¼š2
è§£é‡Šï¼šä¸ target æœ€æ¥è¿‘çš„å’Œæ˜¯ 2 (-1 + 2 + 1 = 2) ã€‚
```

**æ•°æ®èŒƒå›´**ï¼š

- `3 <= nums.length <= 1000`
- `-1000 <= nums[i] <= 1000`
- `-104 <= target <= 104`

**æ€è·¯**ï¼š**æ’åº**å’Œ**åŒæŒ‡é’ˆ** $O(n^2)$

```java
class Solution {
    public int threeSumClosest(int[] nums, int target) {
        int n = nums.length;
        Arrays.sort(nums);

        int res = 0x3f3f3f3f;
        for(int i = 0; i < n - 2; i ++ ) {
            if(i > 0 && nums[i] == nums[ i - 1]) continue; // å»é‡

            for(int l = i + 1, r = n - 1; l < r;) {
                int sum = nums[i] + nums[l] + nums[r];
                if(Math.abs(sum - target) < Math.abs(res - target)) res = sum;

                if(sum == target) return sum ;
                else if(sum > target) r --;
                else l ++ ;
            }
        }
        return res;
    }
}
```

#### ï¼ˆ11ï¼‰[287. å¯»æ‰¾é‡å¤æ•°](https://leetcode.cn/problems/find-the-duplicate-number/) ï¼ˆå¿«æ…¢æŒ‡é’ˆï¼‰

**é—®é¢˜**ï¼š

ç»™å®šä¸€ä¸ªåŒ…å« `n + 1` ä¸ªæ•´æ•°çš„æ•°ç»„ `nums` ï¼Œå…¶æ•°å­—éƒ½åœ¨ `[1, n]` èŒƒå›´å†…ï¼ˆåŒ…æ‹¬ `1` å’Œ `n`ï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚

å‡è®¾ `nums` åªæœ‰ **ä¸€ä¸ªé‡å¤çš„æ•´æ•°** ï¼Œè¿”å› **è¿™ä¸ªé‡å¤çš„æ•°** ã€‚

ä½ è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡» **ä¸ä¿®æ”¹** æ•°ç»„ `nums` ä¸”åªç”¨å¸¸é‡çº§ `O(1)` çš„é¢å¤–ç©ºé—´ã€‚

ä¾‹å­ï¼š

```
è¾“å…¥ï¼šnums = [1,3,4,2,2]
è¾“å‡ºï¼š2
```

**æ•°æ®èŒƒå›´**ï¼š

- `1 <= n <= 105`
- `nums.length == n + 1`
- `1 <= nums[i] <= n`
- `nums` ä¸­ **åªæœ‰ä¸€ä¸ªæ•´æ•°** å‡ºç° **ä¸¤æ¬¡æˆ–å¤šæ¬¡** ï¼Œå…¶ä½™æ•´æ•°å‡åªå‡ºç° **ä¸€æ¬¡**

**æ€è·¯**ï¼š

å¦‚ä½•è¯æ˜ `nums` ä¸­è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•°å­—?

ä¾æ®**é¸½æ´åŸç†**ï¼Œæœ‰ $n$ ä¸ªé¸½å­æ´ï¼Œæœ‰ $n$ + 1 åªé¸½å­ï¼Œå¿…ç„¶æœ‰ä¸€ä¸ªé¸½å­æ´ä¸­æœ‰ä¸¤åªé¸½å­ã€‚åŒç†ï¼Œé•¿åº¦ä¸º $n+1$çš„æ•°ç»„ï¼Œå…¶æ•°å­—èŒƒå›´éƒ½åœ¨ $[1,n]$èŒƒå›´å†…ï¼Œè‡³å°‘å­˜åœ¨ä¸€ä¸ªæ•°æ˜¯é‡å¤çš„ã€‚

$nums$ä¸­**è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤**çš„æ•°å­—ï¼Œå‡è®¾$nums$ä¸­**åªæœ‰ä¸€ä¸ªé‡å¤**çš„æ•´æ•°ï¼Œä¸”**è¿™ä¸ªé‡å¤çš„æ•´æ•°å‡ºç°ä¸¤æ¬¡æˆ–ä¸¤æ¬¡ä»¥ä¸Š**ï¼Œå…¶ä½™æ•´æ•°å‡åªå‡ºç°ä¸€æ¬¡ã€‚**å°†è¯¥æ•°ç»„è½¬æ¢æˆé“¾è¡¨ï¼Œå¦‚ä½•è¯æ˜é“¾è¡¨ä¸­ä¸€å®šå­˜åœ¨ç¯**ï¼Ÿ

ä»¥ $[1,3,4,2,2]$ä¸ºä¾‹ï¼ŒæŒ‰ç…§ä¸€ä¸‹æ˜ å°„è§„åˆ™å°†æ•°ç»„è½¬æ¢æˆé“¾è¡¨ï¼š

$0->1$

$1->3$

$2->4$

$3->2$

$4->2$

<img src="https://raw.githubusercontent.com/JackFroster/Images/main/image/%E6%88%AA%E5%B1%8F2023-06-19%2015.14.40.png" alt="æˆªå±2023-06-19 15.14.40" style="zoom:50%;" />

é“¾è¡¨ä¸­çš„é‡å¤èŠ‚ç‚¹å¿…ç„¶è‡³å°‘æœ‰ä¸€æ¡å‡ºè¾¹ï¼Œä¸¤æ¡å…¥è¾¹ã€‚è¯¥èŠ‚ç‚¹å¿…ç„¶æ˜¯æ„æˆç¯çš„å…¥å£èŠ‚ç‚¹ã€‚

å› æ­¤ï¼Œå¯ä»¥é‡‡ç”¨**å¿«æ…¢æŒ‡é’ˆ**æ¥åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯ï¼Œå¹¶ç¡®å®šç¯çš„å…¥å£èŠ‚ç‚¹ã€‚

**åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯**

- è®¾ç½®å¿«æ…¢æŒ‡é’ˆåˆ†åˆ«ä¸º`fast`å’Œ`slow`ï¼Œåˆå§‹æ—¶éƒ½æŒ‡å‘é“¾è¡¨å¤´`head`
- `slow`æ¯æ¬¡èµ°ä¸€æ­¥`slow=slow.next`ï¼›`fast`æ¯æ¬¡èµ°ä¸¤æ­¥`fast=fast.next.next`
- ç”±äº`fast`æ¯”`slow`èµ°çš„å¿«ï¼Œå¦‚æœæœ‰ç¯ï¼Œé‚£ä¹ˆ`fast`ä¸€å®šå…ˆè¿›å…¥ç¯ï¼Œè€Œ`slow`åè¿›å…¥ç¯
- ä¸¤ä¸ªæŒ‡é’ˆè¿›å…¥ç¯åï¼Œç»è¿‡è‹¥å¹²æ“ä½œå**ä¸¤ä¸ªæŒ‡é’ˆå®šèƒ½åœ¨ç¯ä¸Šç›¸é‡**ï¼Œå³å¯åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯æœ‰ç¯ã€‚

â€‹		**è¯æ˜**ï¼šå½“`slow`è¿›å…¥ç¯æ—¶ï¼Œ`fast`æ—©å·²è¿›å…¥ç¯ã€‚**å› ä¸º`fast`æ¯æ¬¡æ¯”`slow`å¤šèµ°ä¸€æ­¥ä¸”`fast`ä¸`slow`çš„è·ç¦»å°äºç¯çš„é•¿åº¦ï¼Œæ‰€ä»¥`fast`ä¸`slow`ç›¸é‡æ—¶ï¼Œ`slow`æ‰€èµ°çš„è·ç¦»ä¸è¶…è¿‡ç¯çš„é•¿åº¦**ã€‚

<img src="https://raw.githubusercontent.com/JackFroster/Images/main/image/202202012148680.png" alt="image-20220201214811569" width="220px" />

**æ±‚ç¯çš„å…¥å£ç‚¹**

- è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘`head`ï¼Œä¸€ä¸ªæŒ‡å‘ç›¸é‡ç‚¹
- ä¸¤ä¸ªæŒ‡é’ˆåŒæ­¥ç§»åŠ¨ï¼Œå‡ä¸ºä¸€æ¬¡èµ°ä¸€æ­¥ï¼Œå†æ¬¡ç›¸é‡ç‚¹å³ä¸ºç¯çš„å…¥å£ç‚¹

â€‹	**è¯æ˜**ï¼šè®¾å¤´ç»“ç‚¹åˆ°ç¯çš„å…¥å£ç‚¹çš„è·ç¦»ä¸º $a$ï¼Œç¯çš„å…¥å£ç‚¹æ²¿ç€ç¯çš„æ–¹å‘åˆ°ç›¸é‡ç‚¹çš„è·ç¦»ä¸º $x$ï¼Œç¯é•¿ä¸º $r$ï¼Œç›¸é‡æ—¶ `fast` ç»•è¿‡äº† $n$ åœˆã€‚åˆ™æœ‰ $2(a+x)=a+nr+x$ï¼Œå³$a=nr-x$ã€‚ä»å¤´ç»“ç‚¹åˆ°ç¯çš„å…¥å£ç‚¹çš„è·ç¦»ç­‰äº $n$ å€çš„ç¯é•¿å‡å»ç¯çš„å…¥å£ç‚¹åˆ°ç›¸é‡ç‚¹çš„è·ç¦»ï¼Œå› æ­¤å¯ä»¥ç”¨ä¸Šè¿°æ–¹æ³•æ±‚å…¥å£ç‚¹ã€‚

<img src="https://raw.githubusercontent.com/JackFroster/Images/main/image/202202012152550.png" alt="image-20220201215222499" width="180" />

ç±»ä¼¼çš„é¢˜ç›®ï¼š[142. ç¯å½¢é“¾è¡¨ II](https://leetcode.cn/problems/linked-list-cycle-ii/)  [141. ç¯å½¢é“¾è¡¨](https://leetcode.cn/problems/linked-list-cycle/) 

```java
class Solution {
    public int findDuplicate(int[] nums) {
        // å¿«æ…¢æŒ‡é’ˆä»èµ·ç‚¹å‡ºå‘ï¼Œæ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆèµ°ä¸¤æ­¥ï¼Œå®ƒä»¬æœ€ç»ˆç›¸é‡ï¼Œåˆ™ä¸€å®šæœ‰ç¯
        int s = 0, f = 0;
        while((s == 0 && f == 0) || s != f) { // å¦‚æœæœ‰ç¯ï¼Œå¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆæœ€ç»ˆä¼šç›¸é‡
            s = nums[s]; // æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥
            f = nums[f]; f = nums[f]; // å¿«æŒ‡é’ˆèµ°ä¸¤æ­¥
        }
        // æ…¢æŒ‡é’ˆä»èµ·ç‚¹å‡ºå‘ï¼Œå¿«æŒ‡é’ˆä»ä¸Šæ¬¡ç›¸é‡ç‚¹å‡ºå‘ï¼Œå®ƒä»¬åŒæ—¶èµ°ä¸€æ­¥ï¼Œå†æ¬¡ç›¸é‡ç‚¹ä¸ºç¯çš„å…¥å£
        s = 0;
        while(s != f) {
            s = nums[s];
            f = nums[f];
        }
        return s;
    }
}
```

#### ï¼ˆ12ï¼‰[795. åŒºé—´å­æ•°ç»„ä¸ªæ•°](https://leetcode.cn/problems/number-of-subarrays-with-bounded-maximum/)ï¼ˆåŒæŒ‡é’ˆï¼‰

**é—®é¢˜**

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸¤ä¸ªæ•´æ•°ï¼š`left` åŠ `right` ã€‚æ‰¾å‡º `nums` ä¸­è¿ç»­ã€éç©ºä¸”å…¶ä¸­æœ€å¤§å…ƒç´ åœ¨èŒƒå›´ `[left, right]` å†…çš„å­æ•°ç»„ï¼Œå¹¶è¿”å›æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚

ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ä¿è¯ç»“æœç¬¦åˆ **32-bit** æ•´æ•°èŒƒå›´ã€‚

ä¾‹å­

```
è¾“å…¥ï¼šnums = [2,1,4,3], left = 2, right = 3
è¾“å‡ºï¼š3
è§£é‡Šï¼šæ»¡è¶³æ¡ä»¶çš„ä¸‰ä¸ªå­æ•°ç»„ï¼š[2], [2, 1], [3]
```

**æ•°æ®èŒƒå›´**

- `1 <= nums.length <= 10^5`
- `0 <= nums[i] <= 10^9`
- `0 <= left <= right <= 10^9`

**æ€è·¯**

åˆå§‹åŒ–æŒ‡é’ˆ$i=-1$å’ŒæŒ‡é’ˆ $j=0$ï¼ŒæŒ‡é’ˆ$j$ æ¯æ¬¡è‡ªå¢$1$ã€‚

è®¾  $t$è¡¨ç¤ºä»¥$nums[j]$ç»“å°¾çš„å­æ•°ç»„çš„é›†åˆï¼Œè¿™äº›å­æ•°ç»„å…¶æœ€å¤§å…ƒç´ åœ¨èŒƒå›´ $[left, right]$ å†…ã€‚ $t$ çš„å±æ€§æ˜¯å­æ•°ç»„çš„æ•°é‡ã€‚

- å¦‚æœæšä¸¾$nums[j]$åˆ°æ¯”$right$å¤§ï¼Œåˆ™æ›´æ–°$i$ä¸º$j$ã€‚
- å¦‚æœ$nums[j]$å°äº$left$ï¼Œåˆ™ä»¥$nums[j]$ç»“å°¾çš„å­æ•°ç»„çš„é›†åˆï¼Œè¿™äº›å­æ•°ç»„å…¶æœ€å¤§å…ƒç´ åœ¨èŒƒå›´ $[left, right]$ å†…ï¼Œ**å­æ•°ç»„çš„ä¸ªæ•°ç­‰äºä¸Šä¸€è½®çš„$t$ï¼›**
- å¦‚æœ$nums[j]$å¤§äºç­‰äº$left$ï¼Œåˆ™æ›´æ–° $t = j - i$ã€‚

```java
class Solution {
    public int numSubarrayBoundedMax(int[] nums, int left, int right) {
        int n = nums.length;
        // tè¡¨ç¤ºä»¥nums[j]ç»“å°¾çš„å­æ•°ç»„çš„é›†åˆï¼Œè¿™äº›å­æ•°ç»„å…¶æœ€å¤§å…ƒç´ åœ¨èŒƒå›´ [left, right] å†…ã€‚
        // tçš„å±æ€§æ˜¯å­æ•°ç»„çš„æ•°é‡
        int res = 0, t = 0;
        for(int i = -1, j = 0; j < n; j ++) { // i å¿…é¡»åˆå§‹åŒ–-1
            if(nums[j] > right) i = j; // å¦‚æœæšä¸¾åˆ°æ¯”rightå¤§çš„æ•°ï¼Œåˆ™æ›´æ–°iä¸ºj
            if(nums[j] >= left) t = j - i; // å¦åˆ™ï¼Œt = j - i
            // å¦‚æœnums[j]å°äºleft,åˆ™ä»¥nums[j]ç»“å°¾çš„å­æ•°ç»„çš„é›†åˆï¼Œè¿™äº›å­æ•°ç»„å…¶æœ€å¤§å…ƒç´ åœ¨èŒƒå›´ [left, right] å†…ï¼Œå­æ•°ç»„çš„ä¸ªæ•°ç­‰äºä¸Šä¸€è½®çš„t
            res += t;
        }
        return res;
    }
}
```

#### ï¼ˆ13ï¼‰[11. ç››æœ€å¤šæ°´çš„å®¹å™¨](https://leetcode.cn/problems/container-with-most-water/) :star2:

**é—®é¢˜**

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `height` ã€‚æœ‰ `n` æ¡å‚çº¿ï¼Œç¬¬ `i` æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ `(i, 0)` å’Œ `(i, height[i])` ã€‚

æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ `x` è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚

**è¯´æ˜ï¼š**ä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚

ä¾‹å­

```
è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]
è¾“å‡ºï¼š49 
è§£é‡Šï¼šå›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸ºÂ 49ã€‚
```

**æ•°æ®èŒƒå›´**

- `n == height.length`
- `2 <= n <= 10^5`
- `0 <= height[i] <= 10^4`

**æ€è·¯**

åŒæŒ‡é’ˆç®—æ³•ï¼Œ æ—¶é—´å¤æ‚åº¦æ˜¯$O(n)$ã€‚

ä¸€å¼€å§‹ä¸¤ä¸ªæŒ‡é’ˆä¸€ä¸ªæŒ‡å‘å¼€å¤´ä¸€ä¸ªæŒ‡å‘ç»“å°¾ï¼Œ**æ­¤æ—¶å®¹å™¨çš„åº•æ˜¯æœ€å¤§çš„**ï¼Œæ¥ä¸‹æ¥éšç€æŒ‡é’ˆå‘å†…ç§»åŠ¨ï¼Œä¼šé€ æˆå®¹å™¨çš„åº•å˜å°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æƒ³è¦è®©å®¹å™¨ç››æ°´å˜å¤šï¼Œå°±åªæœ‰åœ¨å®¹å™¨çš„é«˜ä¸Šä¸‹åŠŸå¤«ã€‚

 é‚£æˆ‘ä»¬è¯¥å¦‚ä½•å†³ç­–å“ªä¸ªæŒ‡é’ˆç§»åŠ¨å‘¢ï¼Ÿæˆ‘ä»¬èƒ½å¤Ÿå‘ç°ä¸ç®¡æ˜¯å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€ä½ï¼Œè¿˜æ˜¯å³æŒ‡é’ˆå‘å·¦ç§»åŠ¨ä¸€ä½ï¼Œå®¹å™¨çš„åº•éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ¯”åŸæ¥å‡å°‘äº† 1ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬æƒ³è¦è®©æŒ‡é’ˆç§»åŠ¨åçš„å®¹å™¨é¢ç§¯å¢å¤§ï¼Œ**å°±è¦ä½¿ç§»åŠ¨åçš„å®¹å™¨çš„é«˜å°½é‡å¤§**ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©æŒ‡é’ˆæ‰€æŒ‡çš„é«˜è¾ƒå°çš„é‚£ä¸ªæŒ‡é’ˆè¿›è¡Œç§»åŠ¨ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¿ç•™äº†å®¹å™¨è¾ƒé«˜çš„é‚£æ¡è¾¹ï¼Œæ”¾å¼ƒäº†è¾ƒå°çš„é‚£æ¡è¾¹ï¼Œä»¥è·å¾—æœ‰æ›´é«˜çš„è¾¹çš„æœºä¼šã€‚

ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œå€¼å°çš„æŒ‡é’ˆå‘å†…ç§»åŠ¨ï¼Œè¿™æ ·å°±å‡å°äº†æœç´¢ç©ºé—´ **å› ä¸ºé¢ç§¯å–å†³äºæŒ‡é’ˆçš„è·ç¦»ä¸å€¼å°çš„å€¼ä¹˜ç§¯ï¼Œå¦‚æœå€¼å¤§çš„å€¼å‘å†…ç§»åŠ¨ï¼Œè·ç¦»ä¸€å®šå‡å°ï¼Œè€Œæ±‚é¢ç§¯çš„å¦å¤–ä¸€ä¸ªä¹˜æ•°ä¸€å®šå°äºç­‰äºå€¼å°çš„å€¼ï¼Œå› æ­¤é¢ç§¯ä¸€å®šå‡å°**ï¼Œè€Œæˆ‘ä»¬è¦æ±‚æœ€å¤§çš„é¢ç§¯ï¼Œå› æ­¤å€¼å¤§çš„æŒ‡é’ˆä¸åŠ¨ï¼Œè€Œå€¼å°çš„æŒ‡é’ˆå‘å†…ç§»åŠ¨éå†ã€‚

```java
class Solution {
    public int maxArea(int[] height) {
        int l = 0, r = height.length - 1; // åŒæŒ‡é’ˆç®—æ³•
        int area = Math.min(height[l], height[r])*(r - l);
        // çŸ­çš„çº¿å‘é‡Œèµ°
        while(l < r) {
            if(height[l] < height[r]) l ++ ;
            else r -- ;
            area = Math.max(area, Math.min(height[l], height[r])*(r - l));
        }
        return area;
    }
}
```

#### ï¼ˆ14ï¼‰[42. æ¥é›¨æ°´](https://leetcode.cn/problems/trapping-rain-water/):star2:

**é—®é¢˜**

ç»™å®š `n` ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º `1` çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚

ä¾‹å­

<img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/22/rainwatertrap.png" alt="img" style="zoom:75%;" />

```
è¾“å…¥ï¼šheight = [0,1,0,2,1,0,1,3,2,1,2,1]
è¾“å‡ºï¼š6
è§£é‡Šï¼šä¸Šé¢æ˜¯ç”±æ•°ç»„ [0,1,0,2,1,0,1,3,2,1,2,1] è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ 6 ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚ 
```

**æ•°æ®èŒƒå›´**

- `n == height.length`
- `1 <= n <= 2 * 10^4`
- `0 <= height[i] <= 10^5`

**æ€è·¯**

åŒæŒ‡é’ˆå’Œå®¹æ–¥åŸç†

<img src="https://assets.leetcode-cn.com/solution-static/42/1.png" alt="fig1" style="zoom:48%;" />

åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆï¼Œç¬¬ä¸€ä¸ªæŒ‡é’ˆ$l$æŒ‡å‘æ•°ç»„çš„èµ·å§‹ä½ç½®å¹¶å‘å³ç§»åŠ¨ï¼Œç¬¬äºŒä¸ªæŒ‡é’ˆ$r$æŒ‡å‘æ•°ç»„çš„ç»“æŸä½ç½®å¹¶å‘å·¦ç§»åŠ¨ã€‚

æŒ‡é’ˆ$l$ å‘å³ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ä¸æ–­æ›´æ–°å½“å‰æœ€å¤§å€¼ $leftmax$ï¼Œå¹¶ç»Ÿè®¡ä¸Šè¿°å·¦ä¸Šå›¾çš„é¢ç§¯$leftsum$ã€‚

æŒ‡é’ˆ$r$ å‘å·¦ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ä¸æ–­æ›´æ–°å½“å‰æœ€å¤§å€¼ $rightmax$ï¼Œå¹¶ç»Ÿè®¡ä¸Šè¿°å³ä¸Šå›¾çš„é¢ç§¯$rightsum$ã€‚

è®¾æ•°ç»„é•¿åº¦ä¸º $n$ ï¼Œåˆ™ä¸Šè¿°ä¸­ä¸‹å›¾çš„é¢ç§¯ç­‰äº $maxheight * n$ã€‚è®¾æ•°ç»„æ‰€æœ‰å…ƒç´ ä¹‹å’Œä¸º $sum$ã€‚

åˆ™æ¥æ°´é‡ç­‰äº $leftsum+rightsum-maxheight*n-sum$ã€‚

```java
class Solution {
    public int trap(int[] height) {
        int n = height.length;
        int leftmax = -1, rightmax = -1, leftsum = 0, rightsum = 0, sum = 0;
        for(int l = 0, r = n - 1; l < n && r >= 0; l ++, r --) {
            leftmax = Math.max(leftmax, height[l]);
            rightmax = Math.max(rightmax, height[r]);

            leftsum += leftmax; rightsum += rightmax;
            sum += height[l];
        }

        return leftsum + rightsum - leftmax * n - sum;
    }
}
```





### :mag_right: å‚è€ƒæ–‡çŒ® 

[1] https://leetcode.cn/

[2] https://www.acwing.com/

### :closed_lock_with_key: License

æœ¬æ–‡å†…å®¹ä¸æ˜¯å°†ç½‘ä¸Šçš„èµ„æ–™éšæ„æ‹¼å‡‘è€Œæ¥ï¼Œé™¤äº†å°‘éƒ¨åˆ†å¼•ç”¨ä¹¦ä¸Šå’ŒæŠ€æœ¯æ–‡æ¡£çš„åŸæ–‡ï¼ˆè¿™éƒ¨åˆ†å†…å®¹éƒ½åœ¨æœ«å°¾çš„å‚è€ƒæ–‡çŒ®ä¸­åŠ äº†å‡ºå¤„ï¼‰ï¼Œå…¶ä½™éƒ½æ˜¯ä½œè€…çš„åŸåˆ›ã€‚åœ¨æ‚¨å¼•ç”¨æœ¬æ–‡å†…å®¹æˆ–è€…å¯¹å†…å®¹è¿›è¡Œä¿®æ”¹æ¼”ç»æ—¶ï¼Œè¯·ç½²åå¹¶ä»¥ç›¸åŒæ–¹å¼å…±äº«ï¼Œè°¢è°¢ã€‚

è½¬è½½æ–‡ç« è¯·åœ¨å¼€å¤´æ˜æ˜¾å¤„æ ‡æ˜è¯¥é¡µé¢åœ°å€ï¼Œå…¬ä¼—å·ç­‰å…¶å®ƒè½¬è½½è¯·è”ç³» [1246550576@qq.com](mailto:1246550576@qq.com)

### ğŸ“æ’ç‰ˆç”³æ˜

ç¬”è®°å†…å®¹æŒ‰ç…§ä¸€å®šæ ‡å‡†è¿›è¡Œæ’ç‰ˆï¼Œä»¥ä¿è¯å†…å®¹çš„å¯è¯»æ€§ã€‚

ä¸ä½¿ç”¨ `![]()` è¿™ç§æ–¹å¼æ¥å¼•ç”¨å›¾ç‰‡ï¼Œè€Œæ˜¯ç”¨ `<img>` æ ‡ç­¾ã€‚ä¸ºäº†èƒ½å¤Ÿæ§åˆ¶å›¾ç‰‡ä»¥åˆé€‚çš„å¤§å°æ˜¾ç¤ºï¼Œä½¿ç”¨ `<div align="center"> <img src=""/> </div>` è¾¾åˆ°å±…ä¸­çš„æ•ˆæœã€‚

æ’ç‰ˆç¾åŒ–å·¥å…·ï¼š[Typora-Purple](
