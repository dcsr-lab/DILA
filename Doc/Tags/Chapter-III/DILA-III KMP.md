# Dive Into LeetCodeâ€™s Algorithm

<div align="center">
  <img src="https://raw.githubusercontent.com/JackFroster/Images/main/image/Screenshot%202023-11-17%20at%2013.04.48.png" alt="Screenshot 2023-11-17 at 13.04.48" width = "200px" align= "center"/>
</div>


> å¼•è¨€
>
> æ­¤ NoteBook For LeetCode (Version 1) è®°å½•äº†LeetCodeç®—æ³•é¢˜è§£ï¼ŒåŒ…æ‹¬**çº¿æ®µæ ‘ã€æ ‘çŠ¶æ•°ç»„ã€æ•°å­¦ã€å“ˆå¸Œè®¡æ•°ã€æ¨¡æ‹Ÿã€åŒæŒ‡é’ˆã€å­—ç¬¦ä¸²ã€æ‹“æ‰‘æ’åºã€æ’åºã€æŸ¥æ‰¾ã€æ ‘ã€å‰ç¼€å’Œä¸åç¼€å’Œã€åŠ¨æ€è§„åˆ’ï¼ˆçº¿æ€§DP,æ ‘å½¢DP,çŠ¶æ€å‹ç¼©DP,æ•°ä½DP,çŠ¶æ€æœºDPï¼‰ã€æœ€çŸ­è·¯ã€æ•°è®ºã€è´ªå¿ƒã€Tireæ ‘ã€é€’å½’ä¸å›æº¯ã€é“¾è¡¨ã€æšä¸¾ã€è¿›åˆ¶è½¬æ¢ã€å•è°ƒæ ˆã€BFSã€DFSã€å¹¶æŸ¥é›†ã€Topké—®é¢˜ã€æœ€å¤§æœ€å°é—®é¢˜ã€æœ€å°æœ€å¤§é—®é¢˜ã€æ»‘åŠ¨çª—å£ç®—æ³•ã€äºŒåˆ†ã€ç¨€ç–è¡¨ã€Tarjan ç®—æ³•ã€FloodFillã€Kadane's algorithmã€KMPã€æ‰«æçº¿**ç­‰ã€‚
>
> :man:ï¼š`Jackson Dean`	:timer_clock: ï¼š`2022-02-04`  :pencil2:ï¼š`c/c++/java/python`  :gear:ï¼š[`Github`](https://github.com/JackFroster/JF-Notes)  :information_source:: [`LeetCode`](https://leetcode.cn/)  

# ç¬¬ä¸‰éƒ¨åˆ†ä¹‹KMP





#### 1ã€[28. æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡](https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string/)

**é—®é¢˜**ï¼š

ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² `haystack` å’Œ `needle` ï¼Œè¯·ä½ åœ¨ `haystack` å­—ç¬¦ä¸²ä¸­æ‰¾å‡º `needle` å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ã€‚

å¦‚æœ `needle` ä¸æ˜¯ `haystack` çš„ä¸€éƒ¨åˆ†ï¼Œåˆ™è¿”å› `-1` ã€‚

ä¾‹å­

```
è¾“å…¥ï¼šhaystack = "sadbutsad", needle = "sad"
è¾“å‡ºï¼š0
è§£é‡Šï¼š"sad" åœ¨ä¸‹æ ‡ 0 å’Œ 6 å¤„åŒ¹é…ã€‚
ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡æ˜¯ 0 ï¼Œæ‰€ä»¥è¿”å› 0 ã€‚
```

**æ•°æ®èŒƒå›´**ï¼š

- `1 <= haystack.length, needle.length <= 104`
- `haystack` å’Œ `needle` ä»…ç”±å°å†™è‹±æ–‡å­—ç¬¦ç»„æˆ

**æ€è·¯**ï¼šæ¨¡æ¿é¢˜

> $KMP$
>
> â€‹		åœ¨ $KMP$ ç®—æ³•ä¸­ï¼Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„æ•°ç»„ï¼Œå«åš $Next$ æ•°ç»„ï¼ˆä¹Ÿæœ‰åœ°æ–¹å« $Fail$ æ•°ç»„æˆ–è€…å‰ç¼€å‡½æ•°ï¼‰ã€‚$Next$ æ•°ç»„å·§å¦™åœ°åˆ©ç”¨äº†æ¨¡æ¿ä¸² $P$ ä¸­**ä»¥æŸä¸ªä½ç½®ç»“å°¾çš„åç¼€çš„ä¸ $P$ çš„å‰ç¼€åŒ¹é…çš„ä¿¡æ¯**ï¼Œæ¥åŠ é€Ÿ $P$ åœ¨ $S$ ä¸­çš„åŒ¹é…è¿‡ç¨‹ã€‚
>
> $Next$ æ•°ç»„çš„å«ä¹‰
>
> â€‹		$Next[i]$ è¡¨ç¤º $P$ ä¸­**ä»¥ $i$ ä¸ºç»ˆç‚¹çš„åç¼€**ä¸**ä» $1$ å¼€å§‹å‰ç¼€ç›¸åŒ¹é…**ï¼Œä¸”**åŒ¹é…é•¿åº¦æœ€å¤§æ˜¯å¤šå°‘**, å³ï¼š
> $$
> \operatorname{Next}[i]=\max _{1 \leq j \leq i-1}\{j\} \text { while } \mathrm{P}[1: j]==\mathrm{P}[i-j+1: i]
> $$

$p$ å’Œ $s$ æ•°ç»„**å¿…é¡»**éƒ½æ˜¯ä»ä¸‹æ ‡ $1$ å¼€å§‹ã€‚ 

ä¸‹é¢æ˜¯é¢„å¤„ç† $next$æ•°ç»„çš„è¿‡ç¨‹ï¼Œå…¶ä¸kmpåŒ¹é…è¿‡ç¨‹ä¸€è‡´ï¼š

<img src="/Users/yjzhai/Library/Application Support/typora-user-images/æˆªå±2023-07-14 23.37.00.png" alt="æˆªå±2023-07-14 23.37.00" style="zoom: 33%;" />



å…¶ä¸­ï¼Œ$i-1$ å’Œ $i$ æ˜¯åŸå­—ç¬¦ä¸²çš„ä¸‹æ ‡ï¼Œ$j$ å’Œ $j + 1$æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²çš„ä¸‹æ ‡ã€‚å…¶ä¸­ $p[i-1]==p[j]$åŠå…¶ä¹‹å‰çš„å­—ç¬¦ä¸²éƒ½æ˜¯å·²ç»åŒ¹é…å¥½çš„ã€‚å½“å‰æ­£åœ¨å°è¯•åŒ¹é…çš„ä½ç½®æ˜¯ $i$ å’Œ $j + 1$ï¼Œä½ç½® $i$ æ°¸è¿œæ˜¯ä¸ $j + 1$å»åŒ¹é…ã€‚

ä¸‹é¢æ˜¯kmpåŒ¹é…è¿‡ç¨‹ï¼š

<img src="/Users/yjzhai/Library/Application Support/typora-user-images/æˆªå±2023-07-14 23.41.17.png" alt="æˆªå±2023-07-14 23.41.17" style="zoom: 33%;" />

å…¶ä¸­ï¼Œ$i-1$ å’Œ $i$ æ˜¯åŸå­—ç¬¦ä¸²çš„ä¸‹æ ‡ï¼Œ$j$ å’Œ $j + 1$æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²çš„ä¸‹æ ‡ã€‚å…¶ä¸­ $s[i-1]==p[j]$åŠå…¶ä¹‹å‰çš„å­—ç¬¦ä¸²éƒ½æ˜¯å·²ç»åŒ¹é…å¥½çš„ã€‚å½“å‰æ­£åœ¨å°è¯•åŒ¹é…çš„ä½ç½®æ˜¯ $i$ å’Œ $j + 1$ï¼Œä½ç½® $s[i]$ æ°¸è¿œæ˜¯ä¸ $p[j + 1]$å»åŒ¹é…ã€‚

```java
class Solution {
    public int strStr(String haystack, String needle) {
        int m = haystack.length(), n = needle.length();
        char[] s = new char[m + 1], p = new char[n + 1];

        for(int i = 1; i <= Math.max(m, n); i ++) { // p å’Œ séƒ½æ˜¯ä¸‹æ ‡ä»1å¼€å§‹
            if(i <= m) s[i] = haystack.charAt(i - 1);
            if(i <= n) p[i] = needle.charAt(i - 1);
        }
        
        int[] ne = new int[n + 1];

        for(int i = 2, j = 0; i <= n; i ++) { // ne[1] = 0, å¦‚æœç¬¬ä¸€ä¸ªå­—æ¯åŒ¹é…å¤±è´¥äº†ï¼Œå°±ä»å¤´å¼€å§‹åŒ¹é…
            while(j != 0 && p[i] != p[j + 1]) j = ne[j]; // åŒ¹é…å¤±è´¥åˆ™å›é€€
            if(p[i] == p[j + 1]) j ++; // å°è¯•åŒ¹é…
            ne[i] = j; // æ›´æ–°ne
        }

        for(int i = 1, j = 0; i <= m; i ++) {
            while(j != 0 && s[i] != p[j + 1]) j = ne[j]; // åŒ¹é…å¤±è´¥åˆ™å›é€€
            if(s[i] == p[j + 1]) j ++; // å°è¯•åŒ¹é…
            if(j == n) { // åŒ¹é…æˆåŠŸ
                return i - (n - 1) - 1;
            }
        }
        return -1;
    }
}
```





#### 2ã€[214. æœ€çŸ­å›æ–‡ä¸²](https://leetcode.cn/problems/shortest-palindrome/)



#### 3ã€[336. å›æ–‡å¯¹](https://leetcode.cn/problems/palindrome-pairs/)



#### 4ã€[686. é‡å¤å åŠ å­—ç¬¦ä¸²åŒ¹é…](https://leetcode.cn/problems/repeated-string-match/)

**é—®é¢˜**ï¼š

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² `a` å’Œ `b`ï¼Œ**å¯»æ‰¾é‡å¤å åŠ å­—ç¬¦ä¸² `a` çš„æœ€å°æ¬¡æ•°**ï¼Œä½¿å¾—å­—ç¬¦ä¸² `b` æˆä¸ºå åŠ åçš„å­—ç¬¦ä¸² `a` çš„å­ä¸²ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› `-1`ã€‚

**æ³¨æ„ï¼š**å­—ç¬¦ä¸² `"abc"` é‡å¤å åŠ  0 æ¬¡æ˜¯ `""`ï¼Œé‡å¤å åŠ  1 æ¬¡æ˜¯ `"abc"`ï¼Œé‡å¤å åŠ  2 æ¬¡æ˜¯ `"abcabc"`ã€‚

ä¾‹å­

```
è¾“å…¥ï¼ša = "abcd", b = "cdabcdab"
è¾“å‡ºï¼š3
è§£é‡Šï¼ša é‡å¤å åŠ ä¸‰éåä¸º "abcdabcdabcd", æ­¤æ—¶ b æ˜¯å…¶å­ä¸²ã€‚
```

**æ•°æ®èŒƒå›´**ï¼š

- `1 <= a.length <= 10^4`
- `1 <= b.length <= 10^4`
- `a` å’Œ `b` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

**æ€è·¯**ï¼šæ¨¡æ¿é¢˜

å°è¯•ä¸æ–­çš„å åŠ å­—ç¬¦ä¸² $a$ï¼Œæ¯å åŠ ä¸€æ¬¡éƒ½å°†å åŠ åçš„å­—ç¬¦ä¸²ä¸æ¨¡æ¿ä¸² $b$ è¿›è¡ŒKMPå­ä¸²åŒ¹é…ã€‚

æ­¤é¢˜çš„å…³é”®æ˜¯å¯»æ‰¾å åŠ æ¬¡æ•°çš„ä¸Šç•Œ $up$ï¼Œä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“æƒ³åˆ°çš„ä¸Šç•Œæ˜¯ $up=floor((2*m+n)/m)$ï¼Œå…¶ä¸­ $m$ æ˜¯åŸå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œ$n$ æ˜¯æ¨¡æ¿ä¸²çš„é•¿åº¦ã€‚

è®¾ `a = "abcd"`,` b = "cdabcdab"`ï¼Œæœ€å¤§å åŠ æ¬¡æ•°æ˜¯ $4$ï¼Œå åŠ åçš„å­—ç¬¦ä¸²æ˜¯ $abcd|abcd|abcd|abcd$ã€‚

å¦‚æœåœ¨æœ€å¤§å åŠ æ¬¡æ•°ï¼Œä¸¤å­—ç¬¦ä¸²ä¾ç„¶æ— æ³•åŒ¹é…ï¼Œåˆ™è¿”å› -1ã€‚

```java
class Solution {

    public boolean kmp(char[] s, char[] p, int m, int n) {
        int[] ne = new int[n + 1];
        for(int i = 2, j = 0; i <= n; i ++ ) {
            while(j != 0 && p[i] != p[j + 1]) j = ne[j];
            if(p[i] == p[j + 1]) j ++;
            ne[i] = j;
        }
        for(int i = 1, j = 0; i <= m; i ++) {
            while(j != 0 && s[i] != p[j + 1]) j = ne[j];
            if(s[i] == p[j + 1]) j ++;
            if(j == n) return true;
        }
        return false;
    }

    public int repeatedStringMatch(String a, String b) {
        int m = a.length(), n = b.length();
        int cnt = n > m ? (int)Math.floor((double)(n / m)) + 2 : 2; // cntè®¡ç®—æ˜¯é‡ç‚¹
        char[] s = new char[m * cnt+ 1];
        char[] p = new char[n + 1];

        for(int i = 1; i <= n; i ++) p[i] = b.charAt(i - 1);

        int idx = 1;
        for(int i = 1; i <= cnt; i ++) {
            for(int j = 0; j < m; j ++ ) s[idx ++] = a.charAt(j);
            if(kmp(s, p, idx - 1, n)) return i;
        }
        return -1;
    }
}
```





### :mag_right: å‚è€ƒæ–‡çŒ® 

[1] https://leetcode.cn/

[2] https://www.acwing.com/

### :closed_lock_with_key: License

æœ¬æ–‡å†…å®¹ä¸æ˜¯å°†ç½‘ä¸Šçš„èµ„æ–™éšæ„æ‹¼å‡‘è€Œæ¥ï¼Œé™¤äº†å°‘éƒ¨åˆ†å¼•ç”¨ä¹¦ä¸Šå’ŒæŠ€æœ¯æ–‡æ¡£çš„åŸæ–‡ï¼ˆè¿™éƒ¨åˆ†å†…å®¹éƒ½åœ¨æœ«å°¾çš„å‚è€ƒæ–‡çŒ®ä¸­åŠ äº†å‡ºå¤„ï¼‰ï¼Œå…¶ä½™éƒ½æ˜¯ä½œè€…çš„åŸåˆ›ã€‚åœ¨æ‚¨å¼•ç”¨æœ¬æ–‡å†…å®¹æˆ–è€…å¯¹å†…å®¹è¿›è¡Œä¿®æ”¹æ¼”ç»æ—¶ï¼Œè¯·ç½²åå¹¶ä»¥ç›¸åŒæ–¹å¼å…±äº«ï¼Œè°¢è°¢ã€‚

è½¬è½½æ–‡ç« è¯·åœ¨å¼€å¤´æ˜æ˜¾å¤„æ ‡æ˜è¯¥é¡µé¢åœ°å€ï¼Œå…¬ä¼—å·ç­‰å…¶å®ƒè½¬è½½è¯·è”ç³» [1246550576@qq.com](mailto:1246550576@qq.com)

### ğŸ“æ’ç‰ˆç”³æ˜

ç¬”è®°å†…å®¹æŒ‰ç…§ä¸€å®šæ ‡å‡†è¿›è¡Œæ’ç‰ˆï¼Œä»¥ä¿è¯å†…å®¹çš„å¯è¯»æ€§ã€‚

ä¸ä½¿ç”¨ `![]()` è¿™ç§æ–¹å¼æ¥å¼•ç”¨å›¾ç‰‡ï¼Œè€Œæ˜¯ç”¨ `<img>` æ ‡ç­¾ã€‚ä¸ºäº†èƒ½å¤Ÿæ§åˆ¶å›¾ç‰‡ä»¥åˆé€‚çš„å¤§å°æ˜¾ç¤ºï¼Œä½¿ç”¨ `<div align="center"> <img src=""/> </div>` è¾¾åˆ°å±…ä¸­çš„æ•ˆæœã€‚

æ’ç‰ˆç¾åŒ–å·¥å…·ï¼š[Typora-Purple](
